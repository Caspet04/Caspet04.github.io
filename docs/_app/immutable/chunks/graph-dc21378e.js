/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var vt=function(e,t,a,r,i,n){var o=function(l){return l==="logscale"?!1:r(l)};return te(e,t,a,o,i,n)},te=function(e,t,a,r,i,n){var o=r("pixelsPerLabel"),l=[],s,h,d,u;if(n)for(s=0;s<n.length;s++)l.push({v:n[s]});else{if(r("logscale")){u=Math.floor(a/o);var f=xe(e,_e,1),c=xe(t,_e,-1);f==-1&&(f=0),c==-1&&(c=_e.length-1);var p=null;if(c-f>=u/4){for(var v=c;v>=f;v--){var _=_e[v],m=Math.log(_/e)/Math.log(t/e)*a,y={v:_};p===null?p={tickValue:_,pixel_coord:m}:Math.abs(m-p.pixel_coord)>=o?p={tickValue:_,pixel_coord:m}:y.label="",l.push(y)}l.reverse()}}if(l.length===0){var b=r("labelsKMG2"),x,D;b?(x=[1,2,4,8,16,32,64,128,256],D=16):(x=[1,2,5,10,20,50,100],D=10);var R=Math.ceil(a/o),w=Math.abs(t-e)/R,S=Math.floor(Math.log(w)/Math.log(D)),C=Math.pow(D,S),A,O,H,X;for(h=0;h<x.length&&(A=C*x[h],O=Math.floor(e/A)*A,H=Math.ceil(t/A)*A,u=Math.abs(H-O)/A,X=a/u,!(X>o));h++);for(O>H&&(A*=-1),s=0;s<=u;s++)d=O+s*A,l.push({v:d})}}var W=r("axisLabelFormatter");for(s=0;s<l.length;s++)l[s].label===void 0&&(l[s].label=W.call(i,l[s].v,0,r,i));return l},ue=function(e,t,a,r,i,n){var o=ct(e,t,a,r);return o>=0?at(e,t,o,r,i):[]},E={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29},T={DATEFIELD_Y:0,DATEFIELD_M:1,DATEFIELD_D:2,DATEFIELD_HH:3,DATEFIELD_MM:4,DATEFIELD_SS:5,DATEFIELD_MS:6,NUM_DATEFIELDS:7},M=[];M[E.MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:1,spacing:1};M[E.TWO_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:2,spacing:2};M[E.FIVE_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:5,spacing:5};M[E.TEN_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:10,spacing:10};M[E.FIFTY_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:50,spacing:50};M[E.HUNDRED_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:100,spacing:100};M[E.FIVE_HUNDRED_MILLISECONDLY]={datefield:T.DATEFIELD_MS,step:500,spacing:500};M[E.SECONDLY]={datefield:T.DATEFIELD_SS,step:1,spacing:1e3*1};M[E.TWO_SECONDLY]={datefield:T.DATEFIELD_SS,step:2,spacing:1e3*2};M[E.FIVE_SECONDLY]={datefield:T.DATEFIELD_SS,step:5,spacing:1e3*5};M[E.TEN_SECONDLY]={datefield:T.DATEFIELD_SS,step:10,spacing:1e3*10};M[E.THIRTY_SECONDLY]={datefield:T.DATEFIELD_SS,step:30,spacing:1e3*30};M[E.MINUTELY]={datefield:T.DATEFIELD_MM,step:1,spacing:1e3*60};M[E.TWO_MINUTELY]={datefield:T.DATEFIELD_MM,step:2,spacing:1e3*60*2};M[E.FIVE_MINUTELY]={datefield:T.DATEFIELD_MM,step:5,spacing:1e3*60*5};M[E.TEN_MINUTELY]={datefield:T.DATEFIELD_MM,step:10,spacing:1e3*60*10};M[E.THIRTY_MINUTELY]={datefield:T.DATEFIELD_MM,step:30,spacing:1e3*60*30};M[E.HOURLY]={datefield:T.DATEFIELD_HH,step:1,spacing:1e3*3600};M[E.TWO_HOURLY]={datefield:T.DATEFIELD_HH,step:2,spacing:1e3*3600*2};M[E.SIX_HOURLY]={datefield:T.DATEFIELD_HH,step:6,spacing:1e3*3600*6};M[E.DAILY]={datefield:T.DATEFIELD_D,step:1,spacing:1e3*86400};M[E.TWO_DAILY]={datefield:T.DATEFIELD_D,step:2,spacing:1e3*86400*2};M[E.WEEKLY]={datefield:T.DATEFIELD_D,step:7,spacing:1e3*604800};M[E.MONTHLY]={datefield:T.DATEFIELD_M,step:1,spacing:1e3*7200*365.2524};M[E.QUARTERLY]={datefield:T.DATEFIELD_M,step:3,spacing:1e3*21600*365.2524};M[E.BIANNUAL]={datefield:T.DATEFIELD_M,step:6,spacing:1e3*43200*365.2524};M[E.ANNUAL]={datefield:T.DATEFIELD_Y,step:1,spacing:1e3*86400*365.2524};M[E.DECADAL]={datefield:T.DATEFIELD_Y,step:10,spacing:1e3*864e3*365.2524};M[E.CENTENNIAL]={datefield:T.DATEFIELD_Y,step:100,spacing:1e3*864e4*365.2524};var _e=function(){for(var e=[],t=-39;t<=39;t++)for(var a=Math.pow(10,t),r=1;r<=9;r++){var i=a*r;e.push(i)}return e}(),ct=function(e,t,a,r){for(var i=r("pixelsPerLabel"),n=0;n<E.NUM_GRANULARITIES;n++){var o=pt(e,t,n);if(a/o>=i)return n}return-1},pt=function(e,t,a){var r=M[a].spacing;return Math.round(1*(t-e)/r)},at=function(e,t,a,r,i){var n=r("axisLabelFormatter"),o=r("labelsUTC"),l=o?We:Ze,s=M[a].datefield,h=M[a].step,d=M[a].spacing,u=new Date(e),f=[];f[T.DATEFIELD_Y]=l.getFullYear(u),f[T.DATEFIELD_M]=l.getMonth(u),f[T.DATEFIELD_D]=l.getDate(u),f[T.DATEFIELD_HH]=l.getHours(u),f[T.DATEFIELD_MM]=l.getMinutes(u),f[T.DATEFIELD_SS]=l.getSeconds(u),f[T.DATEFIELD_MS]=l.getMilliseconds(u);var c=f[s]%h;a==E.WEEKLY&&(c=l.getDay(u)),f[s]-=c;for(var p=s+1;p<T.NUM_DATEFIELDS;p++)f[p]=p===T.DATEFIELD_D?1:0;var v=[],_=l.makeDate.apply(null,f),m=_.getTime();if(a<=E.HOURLY)for(m<e&&(m+=d,_=new Date(m));m<=t;)v.push({v:m,label:n.call(i,_,a,r,i)}),m+=d,_=new Date(m);else for(m<e&&(f[s]+=h,_=l.makeDate.apply(null,f),m=_.getTime());m<=t;)(a>=E.DAILY||l.getHours(_)%h===0)&&v.push({v:m,label:n.call(i,_,a,r,i)}),f[s]+=h,_=l.makeDate.apply(null,f),m=_.getTime();return v};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ie=10,gt=Math.log(ie),F=function(e){return Math.log(e)/gt},me=function(e,t,a){var r=F(e),i=F(t),n=r+a*(i-r),o=Math.pow(ie,n);return o},_t=[7,3],yt=[7,2,2,2],be=1,we=2,Ae=function(e){return e.getContext("2d")},le=function(t,a,r){t.addEventListener(a,r,!1)};function G(e,t,a){e.removeEventListener(t,a,!1)}function Q(e){return e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function mt(e,t,a){var r,i,n;if(t===0)r=a,i=a,n=a;else{var o=Math.floor(e*6),l=e*6-o,s=a*(1-t),h=a*(1-t*l),d=a*(1-t*(1-l));switch(o){case 1:r=h,i=a,n=s;break;case 2:r=s,i=a,n=d;break;case 3:r=s,i=h,n=a;break;case 4:r=d,i=s,n=a;break;case 5:r=a,i=s,n=h;break;case 6:case 0:r=a,i=d,n=s;break}}return r=Math.floor(255*r+.5),i=Math.floor(255*i+.5),n=Math.floor(255*n+.5),"rgb("+r+","+i+","+n+")"}function fe(e){var t=e.getBoundingClientRect(),a=window,r=document.documentElement;return{x:t.left+(a.pageXOffset||r.scrollLeft),y:t.top+(a.pageYOffset||r.scrollTop)}}function Le(e){return!e.pageX||e.pageX<0?0:e.pageX}function Ee(e){return!e.pageY||e.pageY<0?0:e.pageY}function Te(e,t){return Le(e)-t.px}function Oe(e,t){return Ee(e)-t.py}function bt(e){return!!e&&!isNaN(e)}function he(e,t){return!(!e||e.yval===null||e.x===null||e.x===void 0||e.y===null||e.y===void 0||isNaN(e.x)||!t&&isNaN(e.y))}function rt(e,t){var a=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(a-1):e.toPrecision(a)}function ee(e){return e<10?"0"+e:""+e}var Ze={getFullYear:e=>e.getFullYear(),getMonth:e=>e.getMonth(),getDate:e=>e.getDate(),getHours:e=>e.getHours(),getMinutes:e=>e.getMinutes(),getSeconds:e=>e.getSeconds(),getMilliseconds:e=>e.getMilliseconds(),getDay:e=>e.getDay(),makeDate:function(e,t,a,r,i,n,o){return new Date(e,t,a,r,i,n,o)}},We={getFullYear:e=>e.getUTCFullYear(),getMonth:e=>e.getUTCMonth(),getDate:e=>e.getUTCDate(),getHours:e=>e.getUTCHours(),getMinutes:e=>e.getUTCMinutes(),getSeconds:e=>e.getUTCSeconds(),getMilliseconds:e=>e.getUTCMilliseconds(),getDay:e=>e.getUTCDay(),makeDate:function(e,t,a,r,i,n,o){return new Date(Date.UTC(e,t,a,r,i,n,o))}};function ke(e,t,a,r){var i=ee(e)+":"+ee(t);if(a&&(i+=":"+ee(a),r)){var n=""+r;i+="."+("000"+n).substring(n.length)}return i}function it(e,t){var a=t?We:Ze,r=new Date(e),i=a.getFullYear(r),n=a.getMonth(r),o=a.getDate(r),l=a.getHours(r),s=a.getMinutes(r),h=a.getSeconds(r),d=a.getMilliseconds(r),u=""+i,f=ee(n+1),c=ee(o),p=l*3600+s*60+h+.001*d,v=u+"/"+f+"/"+c;return p&&(v+=" "+ke(l,s,h,d)),v}function Fe(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a}function xe(e,t,a,r,i){if((r==null||i===null||i===void 0)&&(r=0,i=t.length-1),r>i)return-1;a==null&&(a=0);var n=function(h){return h>=0&&h<t.length},o=parseInt((r+i)/2,10),l=t[o],s;return l==e?o:l>e?a>0&&(s=o-1,n(s)&&t[s]<e)?o:xe(e,t,a,r,o-1):l<e?a<0&&(s=o+1,n(s)&&t[s]>e)?o:xe(e,t,a,o+1,i):-1}function nt(e){var t,a;if((e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1)&&(a=ye(e),a&&!isNaN(a)))return a;if(e.search("-")!=-1){for(t=e.replace("-","/","g");t.search("-")!=-1;)t=t.replace("-","/");a=ye(t)}else e.length==8?(t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2),a=ye(t)):a=ye(e);return(!a||isNaN(a))&&console.error("Couldn't parse "+e+" as a date"),a}function ye(e){return new Date(e).getTime()}function U(e,t){if(typeof t!="undefined"&&t!==null)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function Ye(e,t){function a(i){return typeof Node=="object"?i instanceof Node:typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.nodeName=="string"}if(typeof t!="undefined"&&t!==null)for(var r in t)t.hasOwnProperty(r)&&(t[r]===null?e[r]=null:se(t[r])?e[r]=t[r].slice():a(t[r])?e[r]=t[r]:typeof t[r]=="object"?((typeof e[r]!="object"||e[r]===null)&&(e[r]={}),Ye(e[r],t[r])):e[r]=t[r]);return e}function se(e){var t=typeof e;return!(t!="object"&&!(t=="function"&&typeof e.item=="function")||e===null||typeof e.length!="number"||e.nodeType===3)}function st(e){return!(typeof e!="object"||e===null||typeof e.getTime!="function")}function ot(e){for(var t=[],a=0;a<e.length;a++)se(e[a])?t.push(ot(e[a])):t.push(e[a]);return t}function Se(){return document.createElement("canvas")}function He(e){try{var t=window.devicePixelRatio,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t!==void 0?t/a:1}catch{return 1}}function lt(e,t,a,r){t=t||0,a=a||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=r,this.end_=Math.min(e.length,t+a),this.nextIdx_=t-1,this.next()}lt.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,a=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],a=!0;break}t++}return this.nextIdx_=t,a||(this.hasNext=!1,this.peek=null),e};function Ve(e,t,a,r){return new lt(e,t,a,r)}var wt=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function ht(e,t,a,r){var i=0,n,o=new Date().getTime();if(e(i),t==1){r();return}var l=t-1;(function s(){i>=t||wt.call(window,function(){var h=new Date().getTime(),d=h-o;n=i,i=Math.floor(d/a);var u=i-n,f=i+u>l;f||i>=l?(e(l),r()):(u!==0&&e(i),s())})})()}var Ke={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};function At(e,t){var a={};if(e)for(var r=1;r<e.length;r++)a[e[r]]=!0;var i=function(s){for(var h in s)if(s.hasOwnProperty(h)&&!Ke[h])return!0;return!1};for(var n in t)if(!!t.hasOwnProperty(n)){if(n=="highlightSeriesOpts"||a[n]&&!t.series){if(i(t[n]))return!0}else if(n=="series"||n=="axes"){var o=t[n];for(var l in o)if(o.hasOwnProperty(l)&&i(o[l]))return!0}else if(!Ke[n])return!0}return!1}var Be={DEFAULT:function(e,t,a,r,i,n,o){a.beginPath(),a.fillStyle=n,a.arc(r,i,o,0,2*Math.PI,!1),a.fill()}};function ut(e){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(a==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:a;if(a===`
`)return t+1<e.length&&e.charAt(t+1)==="\r"?`
\r`:a}return null}function $e(e,t){if(t===null||e===null)return!1;for(var a=e;a&&a!==t;)a=a.parentNode;return a===t}function Qe(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}var xt=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;function qe(e){var t=xt.exec(e);if(!t)return null;var a=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return t[4]?{r:a,g:r,b:i,a:parseFloat(t[4])}:{r:a,g:r,b:i}}function Ce(e){var t=qe(e);if(t)return t;var a=document.createElement("div");a.style.backgroundColor=e,a.style.visibility="hidden",document.body.appendChild(a);var r=window.getComputedStyle(a,null).backgroundColor;return document.body.removeChild(a),qe(r)}function St(e){try{var t=e||document.createElement("canvas");t.getContext("2d")}catch{return!1}return!0}function q(e,t,a){var r=parseFloat(e);if(!isNaN(r))return r;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var i="Unable to parse '"+e+"' as a number";return a!==void 0&&t!==void 0&&(i+=" on line "+(1+(t||0))+" ('"+a+"') of CSV."),console.error(i),null}var Dt=["K","M","B","T","Q"],Lt=["k","M","G","T","P","E","Z","Y"],Et=["m","u","n","p","f","a","z","y"];function Ie(e,t){var a=t("sigFigs");if(a!==null)return rt(e,a);var r=t("digitsAfterDecimal"),i=t("maxNumberWidth"),n=t("labelsKMB"),o=t("labelsKMG2"),l;if(e!==0&&(Math.abs(e)>=Math.pow(10,i)||Math.abs(e)<Math.pow(10,-r))?l=e.toExponential(r):l=""+Fe(e,r),n||o){var s,h=[],d=[];n&&(s=1e3,h=Dt),o&&(n&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),s=1024,h=Lt,d=Et);for(var u=Math.abs(e),f=Qe(s,h.length),c=h.length-1;c>=0;c--,f/=s)if(u>=f){l=Fe(e/f,r)+h[c];break}if(o){var p=String(e.toExponential()).split("e-");p.length===2&&p[1]>=3&&p[1]<=24&&(p[1]%3>0?l=Fe(p[0]/Qe(10,p[1]%3),r):l=Number(p[0]).toFixed(2),l+=d[Math.floor(p[1]/3)-1])}}return l}function Xe(e,t,a){return Ie.call(this,e,a)}var Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function de(e,t,a){var r=a("labelsUTC"),i=r?We:Ze,n=i.getFullYear(e),o=i.getMonth(e),l=i.getDate(e),s=i.getHours(e),h=i.getMinutes(e),d=i.getSeconds(e),u=i.getMilliseconds(e);if(t>=E.DECADAL)return""+n;if(t>=E.MONTHLY)return Je[o]+"&#160;"+n;var f=s*3600+h*60+d+.001*u;if(f===0||t>=E.DAILY)return ee(l)+"&#160;"+Je[o];if(t<E.SECONDLY){var c=""+u;return ee(d)+"."+("000"+c).substring(c.length)}else return t>E.MINUTELY?ke(s,h,d,0):ke(s,h,d,u)}function Me(e,t){return it(e,t("labelsUTC"))}/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var I=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};I.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)};I.prototype.getPlotArea=function(){return this.area_};I.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(a){var r={x:e.x,y:e.y,w:a,h:e.h};return e.x+=a,e.w-=a,r},reserveSpaceRight:function(a){var r={x:e.x+e.w-a,y:e.y,w:a,h:e.h};return e.w-=a,r},reserveSpaceTop:function(a){var r={x:e.x,y:e.y,w:e.w,h:a};return e.y+=a,e.h-=a,r},reserveSpaceBottom:function(a){var r={x:e.x,y:e.y+e.h-a,w:e.w,h:a};return e.h-=a,r},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e};I.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(i){return i},a=0;a<e.length;a++){var r={};if(!e[a].xval&&e[a].x===void 0){console.error("Annotations must have an 'x' property");return}if(e[a].icon&&!(e[a].hasOwnProperty("width")&&e[a].hasOwnProperty("height"))){console.error("Must set width and height when setting annotation.icon property");return}U(r,e[a]),r.xval||(r.xval=t(r.x)),this.annotations.push(r)}};I.prototype.setXTicks=function(e){this.xTicks_=e};I.prototype.setYAxes=function(e){this.yAxes_=e};I.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()};I.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=t!==0?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=F(this._xAxis.maxval)-F(this._xAxis.minval),this._xAxis.xlogscale=this._xAxis.xlogrange!==0?1/this._xAxis.xlogrange:1);for(var a=0;a<this.yAxes_.length;a++){var r=this.yAxes_[a];r.minyval=r.computedValueRange[0],r.maxyval=r.computedValueRange[1],r.yrange=r.maxyval-r.minyval,r.yscale=r.yrange!==0?1/r.yrange:1,this.dygraph_.getOption("logscale")&&(r.ylogrange=F(r.maxyval)-F(r.minyval),r.ylogscale=r.ylogrange!==0?1/r.ylogrange:1,(!isFinite(r.ylogrange)||isNaN(r.ylogrange))&&console.error("axis "+a+" of graph at "+r.g+" can't be displayed in log scale for range ["+r.minyval+" - "+r.maxyval+"]"))}};I.calcXNormal_=function(e,t,a){return a?(F(e)-F(t.minval))*t.xlogscale:(e-t.minval)*t.scale};I.calcYNormal_=function(e,t,a){if(a){var r=1-(F(t)-F(e.minyval))*e.ylogscale;return isFinite(r)?r:NaN}else return 1-(t-e.minyval)*e.yscale};I.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),a=0;a<this.points.length;a++){for(var r=this.points[a],i=this.setNames[a],n=this.dygraph_.getOption("connectSeparatedPoints",i),o=this.dygraph_.axisPropertiesForSeries(i),l=this.dygraph_.attributes_.getForSeries("logscale",i),s=0;s<r.length;s++){var h=r[s];h.x=I.calcXNormal_(h.xval,this._xAxis,t);var d=h.yval;e&&(h.y_stacked=I.calcYNormal_(o,h.yval_stacked,l),d!==null&&!isNaN(d)&&(d=h.yval_stacked)),d===null&&(d=NaN,n||(h.yval=NaN)),h.y=I.calcYNormal_(o,d,l)}this.dygraph_.dataHandler_.onLineEvaluated(r,o,l)}};I.prototype._evaluateLineTicks=function(){var e,t,a,r,i,n;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)t=this.xTicks_[e],a=t.label,n=!("label_v"in t),i=n?t.v:t.label_v,r=this.dygraph_.toPercentXCoord(i),r>=0&&r<1&&this.xticks.push({pos:r,label:a,has_tick:n});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var o=this.yAxes_[e],l=0;l<o.ticks.length;l++)t=o.ticks[l],a=t.label,n=!("label_v"in t),i=n?t.v:t.label_v,r=this.dygraph_.toPercentYCoord(i,e),r>0&&r<=1&&this.yticks.push({axis:e,pos:r,label:a,has_tick:n})};I.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var a=this.annotations[e];t[a.xval+","+a.series]=a}if(this.annotated_points=[],!(!this.annotations||!this.annotations.length))for(var r=0;r<this.points.length;r++){var i=this.points[r];for(e=0;e<i.length;e++){var n=i[e],o=n.xval+","+n.name;o in t&&(n.annotation=t[o],this.annotated_points.push(n))}}};I.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var P=function(e,t,a,r){if(this.dygraph_=e,this.layout=r,this.element=t,this.elementContext=a,this.height=e.height_,this.width=e.width_,!St(this.element))throw"Canvas is not supported.";this.area=r.getPlotArea();var i=this.dygraph_.canvas_ctx_;i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip(),i=this.dygraph_.hidden_ctx_,i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip()};P.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)};P.prototype.render=function(){this._updatePoints(),this._renderLineChart()};P._getIteratorPredicate=function(e){return e?P._predicateThatSkipsEmptyPoints:null};P._predicateThatSkipsEmptyPoints=function(e,t){return e[t].yval!==null};P._drawStyledLine=function(e,t,a,r,i,n,o){var l=e.dygraph,s=l.getBooleanOption("stepPlot",e.setName);se(r)||(r=null);var h=l.getBooleanOption("drawGapEdgePoints",e.setName),d=e.points,u=e.setName,f=Ve(d,0,d.length,P._getIteratorPredicate(l.getBooleanOption("connectSeparatedPoints",u))),c=r&&r.length>=2,p=e.drawingContext;p.save(),c&&p.setLineDash&&p.setLineDash(r);var v=P._drawSeries(e,f,a,o,i,h,s,t);P._drawPointsOnLine(e,v,n,t,o),c&&p.setLineDash&&p.setLineDash([]),p.restore()};P._drawSeries=function(e,t,a,r,i,n,o,l){var s=null,h=null,d=null,u,f,c=[],p=!0,v=e.drawingContext;v.beginPath(),v.strokeStyle=l,v.lineWidth=a;for(var _=t.array_,m=t.end_,y=t.predicate_,b=t.start_;b<m;b++){if(f=_[b],y){for(;b<m&&!y(_,b);)b++;if(b==m)break;f=_[b]}if(f.canvasy===null||f.canvasy!=f.canvasy)o&&s!==null&&(v.moveTo(s,h),v.lineTo(f.canvasx,h)),s=h=null;else{if(u=!1,n||s===null){t.nextIdx_=b,t.next(),d=t.hasNext?t.peek.canvasy:null;var x=d===null||d!=d;u=s===null&&x,n&&(!p&&s===null||t.hasNext&&x)&&(u=!0)}s!==null?a&&(o&&(v.moveTo(s,h),v.lineTo(f.canvasx,h)),v.lineTo(f.canvasx,f.canvasy)):v.moveTo(f.canvasx,f.canvasy),(i||u)&&c.push([f.canvasx,f.canvasy,f.idx]),s=f.canvasx,h=f.canvasy}p=!1}return v.stroke(),c};P._drawPointsOnLine=function(e,t,a,r,i){for(var n=e.drawingContext,o=0;o<t.length;o++){var l=t[o];n.save(),a.call(e.dygraph,e.dygraph,e.setName,n,l[0],l[1],r,i,l[2]),n.restore()}};P.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var a=e[t],r=a.length;r--;){var i=a[r];i.canvasx=this.area.w*i.x+this.area.x,i.canvasy=this.area.h*i.y+this.area.y}};P.prototype._renderLineChart=function(e,t){var a=t||this.elementContext,r,i=this.layout.points,n=this.layout.setNames,o;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),s=l;se(s)||(s=[s]);var h={};for(r=0;r<n.length;r++){o=n[r];var d=this.dygraph_.getOption("plotter",o);d!=l&&(h[o]=d)}for(r=0;r<s.length;r++)for(var u=s[r],f=r==s.length-1,c=0;c<i.length;c++)if(o=n[c],!(e&&o!=e)){var p=i[c],v=u;if(o in h)if(f)v=h[o];else continue;var _=this.colors[o],m=this.dygraph_.getOption("strokeWidth",o);a.save(),a.strokeStyle=_,a.lineWidth=m,v({points:p,setName:o,drawingContext:a,color:_,strokeWidth:m,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(o),plotArea:this.area,seriesIndex:c,seriesCount:i.length,singleSeriesName:e,allSeriesPoints:i}),a.restore()}};P._Plotters={linePlotter:function(e){P._linePlotter(e)},fillPlotter:function(e){P._fillPlotter(e)},errorPlotter:function(e){P._errorPlotter(e)}};P._linePlotter=function(e){var t=e.dygraph,a=e.setName,r=e.strokeWidth,i=t.getNumericOption("strokeBorderWidth",a),n=t.getOption("drawPointCallback",a)||Be.DEFAULT,o=t.getOption("strokePattern",a),l=t.getBooleanOption("drawPoints",a),s=t.getNumericOption("pointSize",a);i&&r&&P._drawStyledLine(e,t.getOption("strokeBorderColor",a),r+2*i,o,l,n,s),P._drawStyledLine(e,e.color,r,o,l,n,s)};P._errorPlotter=function(e){var t=e.dygraph,a=e.setName,r=t.getBooleanOption("errorBars")||t.getBooleanOption("customBars");if(!!r){var i=t.getBooleanOption("fillGraph",a);i&&console.warn("Can't use fillGraph option with error bars");var n=e.drawingContext,o=e.color,l=t.getNumericOption("fillAlpha",a),s=t.getBooleanOption("stepPlot",a),h=e.points,d=Ve(h,0,h.length,P._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",a))),u,f=NaN,c=NaN,p=[-1,-1],v=Ce(o),_="rgba("+v.r+","+v.g+","+v.b+","+l+")";n.fillStyle=_,n.beginPath();for(var m=function(b){return b==null||isNaN(b)};d.hasNext;){var y=d.next();if(!s&&m(y.y)||s&&!isNaN(c)&&m(c)){f=NaN;continue}u=[y.y_bottom,y.y_top],s&&(c=y.y),isNaN(u[0])&&(u[0]=y.y),isNaN(u[1])&&(u[1]=y.y),u[0]=e.plotArea.h*u[0]+e.plotArea.y,u[1]=e.plotArea.h*u[1]+e.plotArea.y,isNaN(f)||(s?(n.moveTo(f,p[0]),n.lineTo(y.canvasx,p[0]),n.lineTo(y.canvasx,p[1])):(n.moveTo(f,p[0]),n.lineTo(y.canvasx,u[0]),n.lineTo(y.canvasx,u[1])),n.lineTo(f,p[1]),n.closePath()),p=u,f=y.canvasx}n.fill()}};P._fastCanvasProxy=function(e){var t=[],a=null,r=null,i=1,n=2,o=0,l=function(d){if(!(t.length<=1)){for(var u=t.length-1;u>0;u--){var f=t[u];if(f[0]==n){var c=t[u-1];c[1]==f[1]&&c[2]==f[2]&&t.splice(u,1)}}for(var u=0;u<t.length-1;){var f=t[u];f[0]==n&&t[u+1][0]==n?t.splice(u,1):u++}if(t.length>2&&!d){var p=0;t[0][0]==n&&p++;for(var v=null,_=null,u=p;u<t.length;u++){var f=t[u];if(f[0]==i)if(v===null&&_===null)v=u,_=u;else{var m=f[2];m<t[v][2]?v=u:m>t[_][2]&&(_=u)}}var y=t[v],b=t[_];t.splice(p,t.length-p),v<_?(t.push(y),t.push(b)):(v>_&&t.push(b),t.push(y))}}},s=function(d){l(d);for(var u=0,f=t.length;u<f;u++){var c=t[u];c[0]==i?e.lineTo(c[1],c[2]):c[0]==n&&e.moveTo(c[1],c[2])}t.length&&(r=t[t.length-1][1]),o+=t.length,t=[]},h=function(d,u,f){var c=Math.round(u);if(a===null||c!=a){var p=a-r>1,v=c-a>1,_=p||v;s(_),a=c}t.push([d,u,f])};return{moveTo:function(d,u){h(n,d,u)},lineTo:function(d,u){h(i,d,u)},stroke:function(){s(!0),e.stroke()},fill:function(){s(!0),e.fill()},beginPath:function(){s(!0),e.beginPath()},closePath:function(){s(!0),e.closePath()},_count:function(){return o}}};P._fillPlotter=function(e){if(!e.singleSeriesName&&e.seriesIndex===0){for(var t=e.dygraph,a=t.getLabels().slice(1),r=a.length;r>=0;r--)t.visibility()[r]||a.splice(r,1);var i=function(){for(var re=0;re<a.length;re++)if(t.getBooleanOption("fillGraph",a[re]))return!0;return!1}();if(!!i)for(var n=e.plotArea,o=e.allSeriesPoints,l=o.length,s=t.getBooleanOption("stackedGraph"),h=t.getColors(),d={},u,f,c=function(re,ft,dt,Ue){if(re.lineTo(ft,dt),s)for(var Re=Ue.length-1;Re>=0;Re--){var ze=Ue[Re];re.lineTo(ze[0],ze[1])}},p=l-1;p>=0;p--){var v=e.drawingContext,_=a[p];if(!!t.getBooleanOption("fillGraph",_)){var m=t.getNumericOption("fillAlpha",_),y=t.getBooleanOption("stepPlot",_),b=h[p],x=t.axisPropertiesForSeries(_),D=1+x.minyval*x.yscale;D<0?D=0:D>1&&(D=1),D=n.h*D+n.y;var R=o[p],w=Ve(R,0,R.length,P._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",_))),S=NaN,C=[-1,-1],A,O=Ce(b),H="rgba("+O.r+","+O.g+","+O.b+","+m+")";v.fillStyle=H,v.beginPath();var X,W=!0;(R.length>2*t.width_||Ge.FORCE_FAST_PROXY)&&(v=P._fastCanvasProxy(v));for(var V=[],N;w.hasNext;){if(N=w.next(),!bt(N.y)&&!y){c(v,S,C[1],V),V=[],S=NaN,N.y_stacked!==null&&!isNaN(N.y_stacked)&&(d[N.canvasx]=n.h*N.y_stacked+n.y);continue}if(s){if(!W&&X==N.xval)continue;W=!1,X=N.xval,u=d[N.canvasx];var K;u===void 0?K=D:f?K=u[0]:K=u,A=[N.canvasy,K],y?C[0]===-1?d[N.canvasx]=[N.canvasy,D]:d[N.canvasx]=[N.canvasy,C[0]]:d[N.canvasx]=N.canvasy}else isNaN(N.canvasy)&&y?A=[n.y+n.h,D]:A=[N.canvasy,D];isNaN(S)?(v.moveTo(N.canvasx,A[1]),v.lineTo(N.canvasx,A[0])):(y&&v.lineTo(N.canvasx,C[0]),v.lineTo(N.canvasx,A[0]),s&&(V.push([S,C[1]]),f&&u?V.push([N.canvasx,u[1]]):V.push([N.canvasx,A[1]]))),C=A,S=N.canvasx}f=y,A&&N&&(c(v,N.canvasx,A[1],V),V=[]),v.fill()}}}};/**
 * @license
 * Copyright 2011 Robert Konigsberg (konigsberg@google.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Tt=100,L={};L.maybeTreatMouseOpAsClick=function(e,t,a){a.dragEndX=Te(e,a),a.dragEndY=Oe(e,a);var r=Math.abs(a.dragEndX-a.dragStartX),i=Math.abs(a.dragEndY-a.dragStartY);r<2&&i<2&&t.lastx_!==void 0&&t.lastx_!=-1&&L.treatMouseOpAsClick(t,e,a),a.regionWidth=r,a.regionHeight=i};L.startPan=function(e,t,a){var r,i;a.isPanning=!0;var n=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(a.initialLeftmostDate=F(n[0]),a.dateRange=F(n[1])-F(n[0])):(a.initialLeftmostDate=n[0],a.dateRange=n[1]-n[0]),a.xUnitsPerPixel=a.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var o=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),s=t.toDomXCoord(l[0])-o,h=t.toDomXCoord(l[1])+o,d=t.toDataXCoord(s),u=t.toDataXCoord(h);a.boundedDates=[d,u];var f=[],c=t.height_*t.getNumericOption("panEdgeFraction");for(r=0;r<t.axes_.length;r++){i=t.axes_[r];var p=i.extremeRange,v=t.toDomYCoord(p[0],r)+c,_=t.toDomYCoord(p[1],r)-c,m=t.toDataYCoord(v,r),y=t.toDataYCoord(_,r);f[r]=[m,y]}a.boundedValues=f}for(a.is2DPan=!1,a.axes=[],r=0;r<t.axes_.length;r++){i=t.axes_[r];var b={},x=t.yAxisRange(r),D=t.attributes_.getForAxis("logscale",r);D?(b.initialTopValue=F(x[1]),b.dragValueRange=F(x[1])-F(x[0])):(b.initialTopValue=x[1],b.dragValueRange=x[1]-x[0]),b.unitsPerPixel=b.dragValueRange/(t.plotter_.area.h-1),a.axes.push(b),i.valueRange&&(a.is2DPan=!0)}};L.movePan=function(e,t,a){a.dragEndX=Te(e,a),a.dragEndY=Oe(e,a);var r=a.initialLeftmostDate-(a.dragEndX-a.dragStartX)*a.xUnitsPerPixel;a.boundedDates&&(r=Math.max(r,a.boundedDates[0]));var i=r+a.dateRange;if(a.boundedDates&&i>a.boundedDates[1]&&(r=r-(i-a.boundedDates[1]),i=r+a.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(ie,r),Math.pow(ie,i)]:t.dateWindow_=[r,i],a.is2DPan)for(var n=a.dragEndY-a.dragStartY,o=0;o<t.axes_.length;o++){var l=t.axes_[o],s=a.axes[o],h=n*s.unitsPerPixel,d=a.boundedValues?a.boundedValues[o]:null,u=s.initialTopValue+h;d&&(u=Math.min(u,d[1]));var f=u-s.dragValueRange;d&&f<d[0]&&(u=u-(f-d[0]),f=u-s.dragValueRange),t.attributes_.getForAxis("logscale",o)?l.valueRange=[Math.pow(ie,f),Math.pow(ie,u)]:l.valueRange=[f,u]}t.drawGraph_(!1)};L.endPan=L.maybeTreatMouseOpAsClick;L.startZoom=function(e,t,a){a.isZooming=!0,a.zoomMoved=!1};L.moveZoom=function(e,t,a){a.zoomMoved=!0,a.dragEndX=Te(e,a),a.dragEndY=Oe(e,a);var r=Math.abs(a.dragStartX-a.dragEndX),i=Math.abs(a.dragStartY-a.dragEndY);a.dragDirection=r<i/2?we:be,t.drawZoomRect_(a.dragDirection,a.dragStartX,a.dragEndX,a.dragStartY,a.dragEndY,a.prevDragDirection,a.prevEndX,a.prevEndY),a.prevEndX=a.dragEndX,a.prevEndY=a.dragEndY,a.prevDragDirection=a.dragDirection};L.treatMouseOpAsClick=function(e,t,a){for(var r=e.getFunctionOption("clickCallback"),i=e.getFunctionOption("pointClickCallback"),n=null,o=-1,l=Number.MAX_VALUE,s=0;s<e.selPoints_.length;s++){var h=e.selPoints_[s],d=Math.pow(h.canvasx-a.dragEndX,2)+Math.pow(h.canvasy-a.dragEndY,2);!isNaN(d)&&(o==-1||d<l)&&(l=d,o=s)}var u=e.getNumericOption("highlightCircleSize")+2;if(l<=u*u&&(n=e.selPoints_[o]),n){var c={cancelable:!0,point:n,canvasx:a.dragEndX,canvasy:a.dragEndY},f=e.cascadeEvents_("pointClick",c);if(f)return;i&&i.call(e,t,n)}var c={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:a.dragEndX,canvasy:a.dragEndY};e.cascadeEvents_("click",c)||r&&r.call(e,t,e.lastx_,e.selPoints_)};L.endZoom=function(e,t,a){t.clearZoomRect_(),a.isZooming=!1,L.maybeTreatMouseOpAsClick(e,t,a);var r=t.getArea();if(a.regionWidth>=10&&a.dragDirection==be){var i=Math.min(a.dragStartX,a.dragEndX),n=Math.max(a.dragStartX,a.dragEndX);i=Math.max(i,r.x),n=Math.min(n,r.x+r.w),i<n&&t.doZoomX_(i,n),a.cancelNextDblclick=!0}else if(a.regionHeight>=10&&a.dragDirection==we){var o=Math.min(a.dragStartY,a.dragEndY),l=Math.max(a.dragStartY,a.dragEndY);o=Math.max(o,r.y),l=Math.min(l,r.y+r.h),o<l&&t.doZoomY_(o,l),a.cancelNextDblclick=!0}a.dragStartX=null,a.dragStartY=null};L.startTouch=function(e,t,a){e.preventDefault(),e.touches.length>1&&(a.startTimeForDoubleTapMs=null);for(var r=[],i=0;i<e.touches.length;i++){var n=e.touches[i];r.push({pageX:n.pageX,pageY:n.pageY,dataX:t.toDataXCoord(n.pageX),dataY:t.toDataYCoord(n.pageY)})}if(a.initialTouches=r,r.length==1)a.initialPinchCenter=r[0],a.touchDirections={x:!0,y:!0};else if(r.length>=2){a.initialPinchCenter={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY),dataX:.5*(r[0].dataX+r[1].dataX),dataY:.5*(r[0].dataY+r[1].dataY)};var o=180/Math.PI*Math.atan2(a.initialPinchCenter.pageY-r[0].pageY,r[0].pageX-a.initialPinchCenter.pageX);o=Math.abs(o),o>90&&(o=90-o),a.touchDirections={x:o<90-45/2,y:o>45/2}}a.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}};L.moveTouch=function(e,t,a){a.startTimeForDoubleTapMs=null;var r,i=[];for(r=0;r<e.touches.length;r++){var n=e.touches[r];i.push({pageX:n.pageX,pageY:n.pageY})}var o=a.initialTouches,l,s=a.initialPinchCenter;i.length==1?l=i[0]:l={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY)};var h={pageX:l.pageX-s.pageX,pageY:l.pageY-s.pageY},d=a.initialRange.x[1]-a.initialRange.x[0],u=a.initialRange.y[0]-a.initialRange.y[1];h.dataX=h.pageX/t.plotter_.area.w*d,h.dataY=h.pageY/t.plotter_.area.h*u;var f,c;if(i.length==1)f=1,c=1;else if(i.length>=2){var p=o[1].pageX-s.pageX;f=(i[1].pageX-l.pageX)/p;var v=o[1].pageY-s.pageY;c=(i[1].pageY-l.pageY)/v}f=Math.min(8,Math.max(.125,f)),c=Math.min(8,Math.max(.125,c));var _=!1;if(a.touchDirections.x&&(t.dateWindow_=[s.dataX-h.dataX+(a.initialRange.x[0]-s.dataX)/f,s.dataX-h.dataX+(a.initialRange.x[1]-s.dataX)/f],_=!0),a.touchDirections.y)for(r=0;r<1;r++){var m=t.axes_[r],y=t.attributes_.getForAxis("logscale",r);y||(m.valueRange=[s.dataY-h.dataY+(a.initialRange.y[0]-s.dataY)/c,s.dataY-h.dataY+(a.initialRange.y[1]-s.dataY)/c],_=!0)}if(t.drawGraph_(!1),_&&i.length>1&&t.getFunctionOption("zoomCallback")){var b=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,b[0],b[1],t.yAxisRanges())}};L.endTouch=function(e,t,a){if(e.touches.length!==0)L.startTouch(e,t,a);else if(e.changedTouches.length==1){var r=new Date().getTime(),i=e.changedTouches[0];a.startTimeForDoubleTapMs&&r-a.startTimeForDoubleTapMs<500&&a.doubleTapX&&Math.abs(a.doubleTapX-i.screenX)<50&&a.doubleTapY&&Math.abs(a.doubleTapY-i.screenY)<50?t.resetZoom():(a.startTimeForDoubleTapMs=r,a.doubleTapX=i.screenX,a.doubleTapY=i.screenY)}};var je=function(e,t,a){return e<t?t-e:e>a?e-a:0},Ot=function(e,t){var a=fe(t.canvas_),r={left:a.x,right:a.x+t.canvas_.offsetWidth,top:a.y,bottom:a.y+t.canvas_.offsetHeight},i={x:Le(e),y:Ee(e)},n=je(i.x,r.left,r.right),o=je(i.y,r.top,r.bottom);return Math.max(n,o)};L.defaultModel={mousedown:function(e,t,a){if(!(e.button&&e.button==2)){a.initializeMouseDown(e,t,a),e.altKey||e.shiftKey?L.startPan(e,t,a):L.startZoom(e,t,a);var r=function(n){if(a.isZooming){var o=Ot(n,t);o<Tt?L.moveZoom(n,t,a):a.dragEndX!==null&&(a.dragEndX=null,a.dragEndY=null,t.clearZoomRect_())}else a.isPanning&&L.movePan(n,t,a)},i=function(n){a.isZooming?a.dragEndX!==null?L.endZoom(n,t,a):L.maybeTreatMouseOpAsClick(n,t,a):a.isPanning&&L.endPan(n,t,a),G(document,"mousemove",r),G(document,"mouseup",i),a.destroy()};t.addAndTrackEvent(document,"mousemove",r),t.addAndTrackEvent(document,"mouseup",i)}},willDestroyContextMyself:!0,touchstart:function(e,t,a){L.startTouch(e,t,a)},touchmove:function(e,t,a){L.moveTouch(e,t,a)},touchend:function(e,t,a){L.endTouch(e,t,a)},dblclick:function(e,t,a){if(a.cancelNextDblclick){a.cancelNextDblclick=!1;return}var r={canvasx:a.dragEndX,canvasy:a.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",r)||e.altKey||e.shiftKey||t.resetZoom()}};L.nonInteractiveModel_={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a)},mouseup:L.maybeTreatMouseOpAsClick};L.dragIsPanInteractionModel={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a),L.startPan(e,t,a)},mousemove:function(e,t,a){a.isPanning&&L.movePan(e,t,a)},mouseup:function(e,t,a){a.isPanning&&L.endPan(e,t,a)}};var De={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:L.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[P._fillPlotter,P._errorPlotter,P._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:de,valueFormatter:Me,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:ue},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Ie,axisLabelFormatter:Xe,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:te},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Ie,axisLabelFormatter:Xe,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:te}}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Z=function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};Z.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};Z.axisToIndex_=function(e){if(typeof e=="string"){if(Z.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return Z.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if(typeof e=="number"){if(e===0||e===1)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0};Z.prototype.reparseSeries=function(){var e=this.get("labels");if(!!e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},a=0;a<this.labels_.length;a++){var r=this.labels_[a],i=t[r]||{},n=Z.axisToIndex_(i.axis);this.series_[r]={idx:a,yAxis:n,options:i},this.yAxes_[n]?this.yAxes_[n].series.push(r):this.yAxes_[n]={series:[r],options:{}}}var o=this.user_.axes||{};U(this.yAxes_[0].options,o.y||{}),this.yAxes_.length>1&&U(this.yAxes_[1].options,o.y2||{}),U(this.xAxis_.options,o.x||{})}};Z.prototype.get=function(e){var t=this.getGlobalUser_(e);return t!==null?t:this.getGlobalDefault_(e)};Z.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null};Z.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:De.hasOwnProperty(e)?De[e]:null};Z.prototype.getForAxis=function(e,t){var a,r;if(typeof t=="number")a=t,r=a===0?"y":"y2";else{if(t=="y1"&&(t="y"),t=="y")a=0;else if(t=="y2")a=1;else if(t=="x")a=-1;else throw"Unknown axis "+t;r=t}var i=a==-1?this.xAxis_:this.yAxes_[a];if(i){var n=i.options;if(n.hasOwnProperty(e))return n[e]}if(!(t==="x"&&e==="logscale")){var o=this.getGlobalUser_(e);if(o!==null)return o}var l=De.axes[r];return l.hasOwnProperty(e)?l[e]:this.getGlobalDefault_(e)};Z.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var a=this.series_[t],r=a.options;return r.hasOwnProperty(e)?r[e]:this.getForAxis(e,a.yAxis)};Z.prototype.numAxes=function(){return this.yAxes_.length};Z.prototype.axisForSeries=function(e){return this.series_[e].yAxis};Z.prototype.axisOptions=function(e){return this.yAxes_[e].options};Z.prototype.seriesForAxis=function(e){return this.yAxes_[e].series};Z.prototype.seriesNames=function(){return this.labels_};function Pe(){this.tarps=[]}Pe.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var a=e[t],r=fe(a),i=r.x,n=r.y,o=a.offsetWidth,l=a.offsetHeight,s=document.createElement("div");s.style.position="absolute",s.style.left=i+"px",s.style.top=n+"px",s.style.width=o+"px",s.style.height=l+"px",s.style.zIndex=999,document.body.appendChild(s),this.tarps.push(s)}};Pe.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ne=function(){},B=ne;B.X=0;B.Y=1;B.EXTRAS=2;B.prototype.extractSeries=function(e,t,a){};B.prototype.seriesToPoints=function(e,t,a){for(var r=[],i=0;i<e.length;++i){var n=e[i],o=n[1],l=o===null?null:B.parseFloat(o),s={x:NaN,y:NaN,xval:B.parseFloat(n[0]),yval:l,name:t,idx:i+a};r.push(s)}return this.onPointsCreated_(e,r),r};B.prototype.onPointsCreated_=function(e,t){};B.prototype.rollingAverage=function(e,t,a){};B.prototype.getExtremeYValues=function(e,t,a){};B.prototype.onLineEvaluated=function(e,t,a){};B.parseFloat=function(e){return e===null?NaN:e};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ae=function(){};ae.prototype=new ne;ae.prototype.extractSeries=function(e,t,a){for(var r=[],i=a.get("logscale"),n=0;n<e.length;n++){var o=e[n][0],l=e[n][t];i&&l<=0&&(l=null),r.push([o,l])}return r};ae.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n,o,l,s;if(t==1)return e;for(i=0;i<e.length;i++){for(l=0,s=0,n=Math.max(0,i-t+1);n<i+1;n++)o=e[n][1],!(o===null||isNaN(o))&&(s++,l+=e[n][1]);s?r[i]=[e[i][0],l/s]:r[i]=[e[i][0],null]}return r};ae.prototype.getExtremeYValues=function(e,t,a){for(var r=null,i=null,n,o=0,l=e.length-1,s=o;s<=l;s++)n=e[s][1],!(n===null||isNaN(n))&&((i===null||n>i)&&(i=n),(r===null||n<r)&&(r=n));return[r,i]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var z=function(){ne.call(this)};z.prototype=new ne;z.prototype.extractSeries=function(e,t,a){};z.prototype.rollingAverage=function(e,t,a){};z.prototype.onPointsCreated_=function(e,t){for(var a=0;a<e.length;++a){var r=e[a],i=t[a];i.y_top=NaN,i.y_bottom=NaN,i.yval_minus=ne.parseFloat(r[2][0]),i.yval_plus=ne.parseFloat(r[2][1])}};z.prototype.getExtremeYValues=function(e,t,a){for(var r=null,i=null,n,o=0,l=e.length-1,s=o;s<=l;s++)if(n=e[s][1],!(n===null||isNaN(n))){var h=e[s][2][0],d=e[s][2][1];h>n&&(h=n),d<n&&(d=n),(i===null||d>i)&&(i=d),(r===null||h<r)&&(r=h)}return[r,i]};z.prototype.onLineEvaluated=function(e,t,a){for(var r,i=0;i<e.length;i++)r=e[i],r.y_top=I.calcYNormal_(t,r.yval_minus,a),r.y_bottom=I.calcYNormal_(t,r.yval_plus,a)};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ve=function(){};ve.prototype=new z;ve.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s=a.get("sigma"),h=a.get("logscale"),d=0;d<e.length;d++)i=e[d][0],l=e[d][t],h&&l!==null&&(l[0]<=0||l[0]-s*l[1]<=0)&&(l=null),l!==null?(n=l[0],n!==null&&!isNaN(n)?(o=s*l[1],r.push([i,n,[n-o,n+o,l[1]]])):r.push([i,n,[n,n,n]])):r.push([i,null,[null,null,null]]);return r};ve.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i=a.get("sigma"),n,o,l,s,h,d,u,f,c;for(n=0;n<e.length;n++){for(h=0,f=0,d=0,o=Math.max(0,n-t+1);o<n+1;o++)l=e[o][1],!(l===null||isNaN(l))&&(d++,h+=l,f+=Math.pow(e[o][2][2],2));d?(u=Math.sqrt(f)/d,c=h/d,r[n]=[e[n][0],c,[c-i*u,c+i*u]]):(s=t==1?e[n][1]:null,r[n]=[e[n][0],s,[s,s]])}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ce=function(){};ce.prototype=new z;ce.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l=a.get("logscale"),s=0;s<e.length;s++)i=e[s][0],o=e[s][t],l&&o!==null&&(o[0]<=0||o[1]<=0||o[2]<=0)&&(o=null),o!==null?(n=o[1],n!==null&&!isNaN(n)?r.push([i,n,[o[0],o[2]]]):r.push([i,n,[n,n]])):r.push([i,null,[null,null]]);return r};ce.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n,o,l,s,h,d;for(n=0,l=0,o=0,s=0,h=0;h<e.length;h++){if(i=e[h][1],d=e[h][2],r[h]=e[h],i!==null&&!isNaN(i)&&(n+=d[0],l+=i,o+=d[1],s+=1),h-t>=0){var u=e[h-t];u[1]!==null&&!isNaN(u[1])&&(n-=u[2][0],l-=u[1],o-=u[2][1],s-=1)}s?r[h]=[e[h][0],1*l/s,[1*n/s,1*o/s]]:r[h]=[e[h][0],null,[null,null]]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var pe=function(){};pe.prototype=new ae;pe.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s,h,d=100,u=a.get("logscale"),f=0;f<e.length;f++)i=e[f][0],o=e[f][t],u&&o!==null&&(o[0]<=0||o[1]<=0)&&(o=null),o!==null?(l=o[0],s=o[1],l!==null&&!isNaN(l)?(h=s?l/s:0,n=d*h,r.push([i,n,[l,s]])):r.push([i,l,[l,s]])):r.push([i,null,[null,null]]);return r};pe.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n=0,o=0,l=100;for(i=0;i<e.length;i++){n+=e[i][2][0],o+=e[i][2][1],i-t>=0&&(n-=e[i-t][2][0],o-=e[i-t][2][1]);var s=e[i][0],h=o?n/o:0;r[i]=[s,l*h]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ge=function(){};ge.prototype=new z;ge.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s,h,d,u,f=100,c=a.get("sigma"),p=a.get("logscale"),v=0;v<e.length;v++)i=e[v][0],o=e[v][t],p&&o!==null&&(o[0]<=0||o[1]<=0)&&(o=null),o!==null?(l=o[0],s=o[1],l!==null&&!isNaN(l)?(h=s?l/s:0,d=s?c*Math.sqrt(h*(1-h)/s):1,u=f*d,n=f*h,r.push([i,n,[n-u,n+u,l,s]])):r.push([i,l,[l,l,l,s]])):r.push([i,null,[null,null,null,null]]);return r};ge.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i=a.get("sigma"),n=a.get("wilsonInterval"),o,l,s,h,d=0,u=0,f=100;for(s=0;s<e.length;s++){d+=e[s][2][2],u+=e[s][2][3],s-t>=0&&(d-=e[s-t][2][2],u-=e[s-t][2][3]);var c=e[s][0],p=u?d/u:0;if(n)if(u){var v=p<0?0:p,_=u,m=i*Math.sqrt(v*(1-v)/_+i*i/(4*_*_)),y=1+i*i/u;o=(v+i*i/(2*u)-m)/y,l=(v+i*i/(2*u)+m)/y,r[s]=[c,v*f,[o*f,l*f]]}else r[s]=[c,0,[0,0]];else h=u?i*Math.sqrt(p*(1-p)/u):1,r[s]=[c,f*p,[f*(p-h),f*(p+h)]]}return r};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var J=function(){this.annotations_=[]};J.prototype.toString=function(){return"Annotations Plugin"};J.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};J.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]};J.prototype.clearChart=function(e){this.detachLabels()};J.prototype.didDrawChart=function(e){var t=e.dygraph,a=t.layout_.annotated_points;if(!(!a||a.length===0))for(var r=e.canvas.parentNode,i=function(x,D,R){return function(w){var S=R.annotation;S.hasOwnProperty(x)?S[x](S,R,t,w):t.getOption(D)&&t.getOption(D)(S,R,t,w)}},n=e.dygraph.getArea(),o={},l=0;l<a.length;l++){var s=a[l];if(!(s.canvasx<n.x||s.canvasx>n.x+n.w||s.canvasy<n.y||s.canvasy>n.y+n.h)){var h=s.annotation,d=6;h.hasOwnProperty("tickHeight")&&(d=h.tickHeight);var u=document.createElement("div");u.style.fontSize=t.getOption("axisLabelFontSize")+"px";var f="dygraph-annotation";h.hasOwnProperty("icon")||(f+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(f+=" "+h.cssClass),u.className=f;var c=h.hasOwnProperty("width")?h.width:16,p=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var v=document.createElement("img");v.src=h.icon,v.width=c,v.height=p,u.appendChild(v)}else s.annotation.hasOwnProperty("shortText")&&u.appendChild(document.createTextNode(s.annotation.shortText));var _=s.canvasx-c/2;u.style.left=_+"px";var m=0;if(h.attachAtBottom){var y=n.y+n.h-p-d;o[_]?y-=o[_]:o[_]=0,o[_]+=d+p,m=y}else m=s.canvasy-p-d;u.style.top=m+"px",u.style.width=c+"px",u.style.height=p+"px",u.title=s.annotation.text,u.style.color=t.colorsMap_[s.name],u.style.borderColor=t.colorsMap_[s.name],h.div=u,t.addAndTrackEvent(u,"click",i("clickHandler","annotationClickHandler",s)),t.addAndTrackEvent(u,"mouseover",i("mouseOverHandler","annotationMouseOverHandler",s)),t.addAndTrackEvent(u,"mouseout",i("mouseOutHandler","annotationMouseOutHandler",s)),t.addAndTrackEvent(u,"dblclick",i("dblClickHandler","annotationDblClickHandler",s)),r.appendChild(u),this.annotations_.push(u);var b=e.drawingContext;if(b.save(),b.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:t.colorsMap_[s.name],b.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:t.getOption("strokeWidth"),b.beginPath(),!h.attachAtBottom)b.moveTo(s.canvasx,s.canvasy),b.lineTo(s.canvasx,s.canvasy-2-d);else{var y=m+p;b.moveTo(s.canvasx,y),b.lineTo(s.canvasx,y+d)}b.closePath(),b.stroke(),b.restore()}}};J.prototype.destroy=function(){this.detachLabels()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var j=function(){this.xlabels_=[],this.ylabels_=[]};j.prototype.toString=function(){return"Axes Plugin"};j.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};j.prototype.layout=function(e){var t=e.dygraph;if(t.getOptionForAxis("drawAxis","y")){var a=t.getOptionForAxis("axisLabelWidth","y")+2*t.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(a)}if(t.getOptionForAxis("drawAxis","x")){var r;t.getOption("xAxisHeight")?r=t.getOption("xAxisHeight"):r=t.getOptionForAxis("axisLabelFontSize","x")+2*t.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(r)}if(t.numAxes()==2){if(t.getOptionForAxis("drawAxis","y2")){var a=t.getOptionForAxis("axisLabelWidth","y2")+2*t.getOptionForAxis("axisTickSize","y2");e.reserveSpaceRight(a)}}else t.numAxes()>2&&t.error("Only two y-axes are supported at this time. (Trying to use "+t.numAxes()+")")};j.prototype.detachLabels=function(){function e(t){for(var a=0;a<t.length;a++){var r=t[a];r.parentNode&&r.parentNode.removeChild(r)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]};j.prototype.clearChart=function(e){this.detachLabels()};j.prototype.willDrawChart=function(e){var t=e.dygraph;if(!t.getOptionForAxis("drawAxis","x")&&!t.getOptionForAxis("drawAxis","y")&&!t.getOptionForAxis("drawAxis","y2"))return;function a(A){return Math.round(A)+.5}function r(A){return Math.round(A)-.5}var i=e.drawingContext,n=e.canvas.parentNode,o=t.width_,l=t.height_,s,h,d,u=function(A){return{position:"absolute",fontSize:t.getOptionForAxis("axisLabelFontSize",A)+"px",width:t.getOptionForAxis("axisLabelWidth",A)+"px"}},f={x:u("x"),y:u("y"),y2:u("y2")},c=function(A,O,H){var X=document.createElement("div"),W=f[H=="y2"?"y2":O];U(X.style,W);var V=document.createElement("div");return V.className="dygraph-axis-label dygraph-axis-label-"+O+(H?" dygraph-axis-label-"+H:""),V.innerHTML=A,X.appendChild(V),X};i.save();var p=t.layout_,v=e.dygraph.plotter_.area,_=function(A){return function(O){return t.getOptionForAxis(O,A)}};if(t.getOptionForAxis("drawAxis","y")){if(p.yticks&&p.yticks.length>0){var m=t.numAxes(),y=[_("y"),_("y2")];p.yticks.forEach(A=>{if(A.label!==void 0){h=v.x;var O="y1",H=y[0];A.axis==1&&(h=v.x+v.w,O="y2",H=y[1]);var X=H("axisLabelFontSize");d=v.y+A.pos*v.h,s=c(A.label,"y",m==2?O:null);var W=d-X/2;W<0&&(W=0),W+X+3>l?s.style.bottom="0":s.style.top=W+"px",A.axis===0?(s.style.left=v.x-H("axisLabelWidth")-H("axisTickSize")+"px",s.style.textAlign="right"):A.axis==1&&(s.style.left=v.x+v.w+H("axisTickSize")+"px",s.style.textAlign="left"),s.style.width=H("axisLabelWidth")+"px",n.appendChild(s),this.ylabels_.push(s)}});var b=this.ylabels_[0],x=t.getOptionForAxis("axisLabelFontSize","y"),D=parseInt(b.style.top,10)+x;D>l-x&&(b.style.top=parseInt(b.style.top,10)-x/2+"px")}var R;if(t.getOption("drawAxesAtZero")){var w=t.toPercentXCoord(0);(w>1||w<0||isNaN(w))&&(w=0),R=a(v.x+w*v.w)}else R=a(v.x);i.strokeStyle=t.getOptionForAxis("axisLineColor","y"),i.lineWidth=t.getOptionForAxis("axisLineWidth","y"),i.beginPath(),i.moveTo(R,r(v.y)),i.lineTo(R,r(v.y+v.h)),i.closePath(),i.stroke(),t.numAxes()==2&&(i.strokeStyle=t.getOptionForAxis("axisLineColor","y2"),i.lineWidth=t.getOptionForAxis("axisLineWidth","y2"),i.beginPath(),i.moveTo(r(v.x+v.w),r(v.y)),i.lineTo(r(v.x+v.w),r(v.y+v.h)),i.closePath(),i.stroke())}if(t.getOptionForAxis("drawAxis","x")){if(p.xticks){var S=_("x");p.xticks.forEach(A=>{if(A.label!==void 0){h=v.x+A.pos*v.w,d=v.y+v.h,s=c(A.label,"x"),s.style.textAlign="center",s.style.top=d+S("axisTickSize")+"px";var O=h-S("axisLabelWidth")/2;O+S("axisLabelWidth")>o&&(O=o-S("axisLabelWidth"),s.style.textAlign="right"),O<0&&(O=0,s.style.textAlign="left"),s.style.left=O+"px",s.style.width=S("axisLabelWidth")+"px",n.appendChild(s),this.xlabels_.push(s)}})}i.strokeStyle=t.getOptionForAxis("axisLineColor","x"),i.lineWidth=t.getOptionForAxis("axisLineWidth","x"),i.beginPath();var C;if(t.getOption("drawAxesAtZero")){var w=t.toPercentYCoord(0,0);(w>1||w<0)&&(w=1),C=r(v.y+w*v.h)}else C=r(v.y+v.h);i.moveTo(a(v.x),C),i.lineTo(a(v.x+v.w),C),i.closePath(),i.stroke()}i.restore()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var $=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};$.prototype.toString=function(){return"ChartLabels Plugin"};$.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var et=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};$.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var a=e[t];!a||a.parentNode&&a.parentNode.removeChild(a)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var tt=function(e,t,a,r,i){var n=document.createElement("div");n.style.position="absolute",a==1?n.style.left="0px":n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.w+"px",n.style.height=t.h+"px",n.style.fontSize=e.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=t.h+"px",o.style.height=t.w+"px",o.style.top=t.h/2-t.w/2+"px",o.style.left=t.w/2-t.h/2+"px",o.className="dygraph-label-rotate-"+(a==1?"right":"left");var l=document.createElement("div");return l.className=r,l.innerHTML=i,o.appendChild(l),n.appendChild(o),n};$.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,a=e.chart_div;if(t.getOption("title")){var r=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=et(r),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px";var i=document.createElement("div");i.className="dygraph-label dygraph-title",i.innerHTML=t.getOption("title"),this.title_div_.appendChild(i),a.appendChild(this.title_div_)}if(t.getOption("xlabel")){var n=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=et(n),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px";var i=document.createElement("div");i.className="dygraph-label dygraph-xlabel",i.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(i),a.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var o=e.reserveSpaceLeft(0);this.ylabel_div_=tt(t,o,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),a.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&t.numAxes()==2){var l=e.reserveSpaceRight(0);this.y2label_div_=tt(t,l,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),a.appendChild(this.y2label_div_)}};$.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))};$.prototype.clearChart=function(){};$.prototype.destroy=function(){this.detachLabels_()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var oe=function(){};oe.prototype.toString=function(){return"Gridline Plugin"};oe.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}};oe.prototype.willDrawChart=function(e){var t=e.dygraph,a=e.drawingContext,r=t.layout_,i=e.dygraph.plotter_.area;function n(m){return Math.round(m)+.5}function o(m){return Math.round(m)-.5}var l,s,h,d;if(t.getOptionForAxis("drawGrid","y")){for(var u=["y","y2"],f=[],c=[],p=[],v=[],_=[],h=0;h<u.length;h++)p[h]=t.getOptionForAxis("drawGrid",u[h]),p[h]&&(f[h]=t.getOptionForAxis("gridLineColor",u[h]),c[h]=t.getOptionForAxis("gridLineWidth",u[h]),_[h]=t.getOptionForAxis("gridLinePattern",u[h]),v[h]=_[h]&&_[h].length>=2);d=r.yticks,a.save(),d.forEach(m=>{if(!!m.has_tick){var y=m.axis;p[y]&&(a.save(),v[y]&&a.setLineDash&&a.setLineDash(_[y]),a.strokeStyle=f[y],a.lineWidth=c[y],l=n(i.x),s=o(i.y+m.pos*i.h),a.beginPath(),a.moveTo(l,s),a.lineTo(l+i.w,s),a.stroke(),a.restore())}}),a.restore()}if(t.getOptionForAxis("drawGrid","x")){d=r.xticks,a.save();var _=t.getOptionForAxis("gridLinePattern","x"),v=_&&_.length>=2;v&&a.setLineDash&&a.setLineDash(_),a.strokeStyle=t.getOptionForAxis("gridLineColor","x"),a.lineWidth=t.getOptionForAxis("gridLineWidth","x"),d.forEach(b=>{!b.has_tick||(l=n(i.x+b.pos*i.w),s=o(i.y+i.h),a.beginPath(),a.moveTo(l,s),a.lineTo(l,i.y),a.closePath(),a.stroke())}),v&&a.setLineDash&&a.setLineDash([]),a.restore()}};oe.prototype.destroy=function(){};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Y=function(){this.legend_div_=null,this.is_generated_div_=!1};Y.prototype.toString=function(){return"Legend Plugin"};Y.prototype.activate=function(e){var t,a=e.getOption("labelsDiv");return a&&a!==null?typeof a=="string"||a instanceof String?t=document.getElementById(a):t=a:(t=document.createElement("div"),t.className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var Ct=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var a=t.offsetWidth;return e.removeChild(t),a},Mt=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};Y.prototype.select=function(e){var t=e.selectedX,a=e.selectedPoints,r=e.selectedRow,i=e.dygraph.getOption("legend");if(i==="never"){this.legend_div_.style.display="none";return}if(i==="follow"){var n=e.dygraph.plotter_.area,o=this.legend_div_.offsetWidth,l=e.dygraph.getOptionForAxis("axisLabelWidth","y"),s=a[0].x*n.w+50,h=a[0].y*n.h-50;s+o+1>n.w&&(s=s-2*50-o-(l-n.x)),e.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+s+"px",this.legend_div_.style.top=h+"px"}var d=Y.generateLegendHTML(e.dygraph,t,a,this.one_em_width_,r);this.legend_div_.innerHTML=d,this.legend_div_.style.display=""};Y.prototype.deselect=function(e){var t=e.dygraph.getOption("legend");t!=="always"&&(this.legend_div_.style.display="none");var a=Ct(this.legend_div_);this.one_em_width_=a;var r=Y.generateLegendHTML(e.dygraph,void 0,void 0,a,null);this.legend_div_.innerHTML=r};Y.prototype.didDrawChart=function(e){this.deselect(e)};Y.prototype.predraw=function(e){if(!!this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.getArea(),a=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-a-1+"px",this.legend_div_.style.top=t.y+"px"}};Y.prototype.destroy=function(){this.legend_div_=null};Y.generateLegendHTML=function(e,t,a,r,i){var n={dygraph:e,x:t,series:[]},o={},l=e.getLabels();if(l)for(var s=1;s<l.length;s++){var h=e.getPropertiesForSeries(l[s]),d=e.getOption("strokePattern",l[s]),u={dashHTML:Pt(d,h.color,r),label:l[s],labelHTML:Mt(l[s]),isVisible:h.visible,color:h.color};n.series.push(u),o[l[s]]=u}if(typeof t!="undefined"){var f=e.optionsViewForAxis_("x"),c=f("valueFormatter");n.xHTML=c.call(e,t,f,l[0],e,i,0);for(var p=[],v=e.numAxes(),s=0;s<v;s++)p[s]=e.optionsViewForAxis_("y"+(s?1+s:""));var _=e.getOption("labelsShowZeroValues"),m=e.getHighlightSeries();for(s=0;s<a.length;s++){var y=a[s],u=o[y.name];if(u.y=y.yval,y.yval===0&&!_||isNaN(y.canvasy)){u.isVisible=!1;continue}var h=e.getPropertiesForSeries(y.name),b=p[h.axis-1],x=b("valueFormatter"),D=x.call(e,y.yval,b,y.name,e,i,l.indexOf(y.name));U(u,{yHTML:D}),y.name==m&&(u.isHighlighted=!0)}}var R=e.getOption("legendFormatter")||Y.defaultFormatter;return R.call(e,n)};Y.defaultFormatter=function(e){var t=e.dygraph;if(t.getOption("showLabelsOnHighlight")!==!0)return"";var a=t.getOption("labelsSeparateLines"),r;if(typeof e.x=="undefined"){if(t.getOption("legend")!="always")return"";r="";for(var i=0;i<e.series.length;i++){var n=e.series[i];!n.isVisible||(r!==""&&(r+=a?"<br/>":" "),r+=`<span style='font-weight: bold; color: ${n.color};'>${n.dashHTML} ${n.labelHTML}</span>`)}return r}r=e.xHTML+":";for(var i=0;i<e.series.length;i++){var n=e.series[i];if(!!n.isVisible){a&&(r+="<br>");var o=n.isHighlighted?' class="highlight"':"";r+=`<span${o}> <b><span style='color: ${n.color};'>${n.labelHTML}</span></b>:&#160;${n.yHTML}</span>`}}return r};function Pt(e,t,a){if(!e||e.length<=1)return`<div class="dygraph-legend-line" style="border-bottom-color: ${t};"></div>`;var r,i,n,o,l=0,s=0,h=[],d;for(r=0;r<=e.length;r++)l+=e[r%e.length];if(d=Math.floor(a/(l-e[0])),d>1){for(r=0;r<e.length;r++)h[r]=e[r]/a;s=h.length}else{for(d=1,r=0;r<e.length;r++)h[r]=e[r]/l;s=h.length+1}var u="";for(i=0;i<d;i++)for(r=0;r<s;r+=2)n=h[r%h.length],r<e.length?o=h[(r+1)%h.length]:o=0,u+=`<div class="dygraph-legend-dash" style="margin-right: ${o}em; padding-left: ${n}em;"></div>`;return u}/**
 * @license
 * Copyright 2011 Paul Felix (paul.eric.felix@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var k=function(){this.hasTouchInterface_=typeof TouchEvent!="undefined",this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};k.prototype.toString=function(){return"RangeSelector Plugin"};k.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};k.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null};k.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)};k.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t};k.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()};k.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)};k.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null};k.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)};k.prototype.renderStaticLayer_=function(){!this.updateVisibility_()||(this.resize_(),this.drawStaticLayer_())};k.prototype.renderInteractiveLayer_=function(){!this.updateVisibility_()||this.isChangingRange_||(this.placeZoomHandles_(),this.drawInteractiveLayer_())};k.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?(!this.graphDiv_||!this.graphDiv_.parentNode)&&this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0,t.resize()},1)}return e};k.prototype.resize_=function(){function e(i,n,o,l){var s=l||He(n);i.style.top=o.y+"px",i.style.left=o.x+"px",i.width=o.w*s,i.height=o.h*s,i.style.width=o.w+"px",i.style.height=o.h+"px",s!=1&&n.scale(s,s)}var t=this.dygraph_.layout_.getPlotArea(),a=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(a=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+a+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var r=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,r),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,r)};k.prototype.createCanvases_=function(){this.bgcanvas_=Se(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Ae(this.bgcanvas_),this.fgcanvas_=Se(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Ae(this.fgcanvas_)};k.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)};k.prototype.initInteraction_=function(){var e=this,t=document,a=0,r=null,i=!1,n=!1,o=!this.isMobileDevice_,l=new Pe,s,h,d,u,f,c,p,v,_,m,y,b,x,D;s=function(w){var S=e.dygraph_.xAxisExtremes(),C=(S[1]-S[0])/e.canvasRect_.w,A=S[0]+(w.leftHandlePos-e.canvasRect_.x)*C,O=S[0]+(w.rightHandlePos-e.canvasRect_.x)*C;return[A,O]},h=function(w){return Q(w),i=!0,a=w.clientX,r=w.target?w.target:w.srcElement,(w.type==="mousedown"||w.type==="dragstart")&&(le(t,"mousemove",d),le(t,"mouseup",u)),e.fgcanvas_.style.cursor="col-resize",l.cover(),!0},d=function(w){if(!i)return!1;Q(w);var S=w.clientX-a;if(Math.abs(S)<4)return!0;a=w.clientX;var C=e.getZoomHandleStatus_(),A;r==e.leftZoomHandle_?(A=C.leftHandlePos+S,A=Math.min(A,C.rightHandlePos-r.width-3),A=Math.max(A,e.canvasRect_.x)):(A=C.rightHandlePos+S,A=Math.min(A,e.canvasRect_.x+e.canvasRect_.w),A=Math.max(A,C.leftHandlePos+r.width+3));var O=r.width/2;return r.style.left=A-O+"px",e.drawInteractiveLayer_(),o&&f(),!0},u=function(w){return i?(i=!1,l.uncover(),G(t,"mousemove",d),G(t,"mouseup",u),e.fgcanvas_.style.cursor="default",o||f(),!0):!1},f=function(){try{var w=e.getZoomHandleStatus_();if(e.isChangingRange_=!0,!w.isZoomed)e.dygraph_.resetZoom();else{var S=s(w);e.dygraph_.doZoomXDates_(S[0],S[1])}}finally{e.isChangingRange_=!1}},c=function(w){var S=e.leftZoomHandle_.getBoundingClientRect(),C=S.left+S.width/2;S=e.rightZoomHandle_.getBoundingClientRect();var A=S.left+S.width/2;return w.clientX>C&&w.clientX<A},p=function(w){return!n&&c(w)&&e.getZoomHandleStatus_().isZoomed?(Q(w),n=!0,a=w.clientX,w.type==="mousedown"&&(le(t,"mousemove",v),le(t,"mouseup",_)),!0):!1},v=function(w){if(!n)return!1;Q(w);var S=w.clientX-a;if(Math.abs(S)<4)return!0;a=w.clientX;var C=e.getZoomHandleStatus_(),A=C.leftHandlePos,O=C.rightHandlePos,H=O-A;A+S<=e.canvasRect_.x?(A=e.canvasRect_.x,O=A+H):O+S>=e.canvasRect_.x+e.canvasRect_.w?(O=e.canvasRect_.x+e.canvasRect_.w,A=O-H):(A+=S,O+=S);var X=e.leftZoomHandle_.width/2;return e.leftZoomHandle_.style.left=A-X+"px",e.rightZoomHandle_.style.left=O-X+"px",e.drawInteractiveLayer_(),o&&m(),!0},_=function(w){return n?(n=!1,G(t,"mousemove",v),G(t,"mouseup",_),o||m(),!0):!1},m=function(){try{e.isChangingRange_=!0,e.dygraph_.dateWindow_=s(e.getZoomHandleStatus_()),e.dygraph_.drawGraph_(!1)}finally{e.isChangingRange_=!1}},y=function(w){if(!(i||n)){var S=c(w)?"move":"default";S!=e.fgcanvas_.style.cursor&&(e.fgcanvas_.style.cursor=S)}},b=function(w){w.type=="touchstart"&&w.targetTouches.length==1?h(w.targetTouches[0])&&Q(w):w.type=="touchmove"&&w.targetTouches.length==1?d(w.targetTouches[0])&&Q(w):u(w)},x=function(w){w.type=="touchstart"&&w.targetTouches.length==1?p(w.targetTouches[0])&&Q(w):w.type=="touchmove"&&w.targetTouches.length==1?v(w.targetTouches[0])&&Q(w):_(w)},D=function(w,S){for(var C=["touchstart","touchend","touchmove","touchcancel"],A=0;A<C.length;A++)e.dygraph_.addAndTrackEvent(w,C[A],S)},this.setDefaultOption_("interactionModel",L.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var R=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",p),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",y),this.hasTouchInterface_&&(D(this.leftZoomHandle_,b),D(this.rightZoomHandle_,b),D(this.fgcanvas_,x))};k.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(a){console.warn(a)}var t=.5;this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(t,t),e.lineTo(t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,t),e.stroke()};k.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),a=this.getOption_("rangeSelectorPlotStrokeColor");if(!(!e&&!a)){var r=this.getOption_("stepPlot"),i=this.computeCombinedSeriesAndLimits_(),n=i.yMax-i.yMin,o=this.bgcanvas_ctx_,l=.5,s=this.dygraph_.xAxisExtremes(),h=Math.max(s[1]-s[0],1e-30),d=(this.canvasRect_.w-l)/h,u=(this.canvasRect_.h-l)/n,f=this.canvasRect_.w-l,c=this.canvasRect_.h-l,p=null,v=null;o.beginPath(),o.moveTo(l,c);for(var _=0;_<i.data.length;_++){var m=i.data[_],y=m[0]!==null?(m[0]-s[0])*d:NaN,b=m[1]!==null?c-(m[1]-i.yMin)*u:NaN;!r&&p!==null&&Math.round(y)==Math.round(p)||(isFinite(y)&&isFinite(b)?(p===null?o.lineTo(y,c):r&&o.lineTo(y,v),o.lineTo(y,b),p=y,v=b):(p!==null&&(r?(o.lineTo(y,v),o.lineTo(y,c)):o.lineTo(p,c)),p=v=null))}if(o.lineTo(f,c),o.closePath(),e){var x=this.bgcanvas_ctx_.createLinearGradient(0,0,0,c);t&&x.addColorStop(0,t),x.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=x,o.fill()}a&&(this.bgcanvas_ctx_.strokeStyle=a,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),o.stroke())}};k.prototype.computeCombinedSeriesAndLimits_=function(){var e=this.dygraph_,t=this.getOption_("logscale"),a,r=e.numColumns(),i=e.getLabels(),n=new Array(r),o=!1,l=e.visibility(),s=[];for(a=1;a<r;a++){var h=this.getOption_("showInRangeSelector",i[a]);s.push(h),h!==null&&(o=!0)}if(o)for(a=1;a<r;a++)n[a]=s[a-1];else for(a=1;a<r;a++)n[a]=l[a-1];var d=[],u=e.dataHandler_,f=e.attributes_;for(a=1;a<e.numColumns();a++)if(!!n[a]){var c=u.extractSeries(e.rawData_,a,f);e.rollPeriod()>1&&(c=u.rollingAverage(c,e.rollPeriod(),f)),d.push(c)}var p=[];for(a=0;a<d[0].length;a++){for(var v=0,_=0,m=0;m<d.length;m++){var y=d[m][a][1];y===null||isNaN(y)||(_++,v+=y)}p.push([d[0][a][0],v/_])}var b=Number.MAX_VALUE,x=-Number.MAX_VALUE;for(a=0;a<p.length;a++){var D=p[a][1];D!==null&&isFinite(D)&&(!t||D>0)&&(b=Math.min(b,D),x=Math.max(x,D))}var R=.25;if(t)for(x=F(x),x+=x*R,b=F(b),a=0;a<p.length;a++)p[a][1]=F(p[a][1]);else{var w,S=x-b;S<=Number.MIN_VALUE?w=x*R:w=S*R,x+=w,b-=w}return{data:p,yMin:b,yMax:x}};k.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),a=e[1]-e[0],r=Math.max(0,(t[0]-e[0])/a),i=Math.max(0,(e[1]-t[1])/a),n=this.canvasRect_.x+this.canvasRect_.w*r,o=this.canvasRect_.x+this.canvasRect_.w*(1-i),l=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),s=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=n-s+"px",this.leftZoomHandle_.style.top=l+"px",this.rightZoomHandle_.style.left=o-s+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"};k.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1,a=this.canvasRect_.w-t,r=this.canvasRect_.h-t,i=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),!i.isZoomed)e.beginPath(),e.moveTo(t,t),e.lineTo(t,r),e.lineTo(a,r),e.lineTo(a,t),e.stroke();else{var n=Math.max(t,i.leftHandlePos-this.canvasRect_.x),o=Math.min(a,i.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,n,this.canvasRect_.h),e.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h),e.beginPath(),e.moveTo(t,t),e.lineTo(n,t),e.lineTo(n,r),e.lineTo(o,r),e.lineTo(o,t),e.lineTo(a,t),e.stroke()}};k.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,a=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:a,isZoomed:t-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Ne=function(e){this.container=e};Ne.prototype.draw=function(e,t){this.container.innerHTML="",typeof this.date_graph!="undefined"&&this.date_graph.destroy(),this.date_graph=new Ge(this.container,e,t)};Ne.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)};Ne.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var a=this.date_graph.layout_.points,r=0;r<a.length;++r)e.push({row:t,column:r+1});return e};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var g=function(e,t,a){this.__init__(e,t,a)};g.NAME="Dygraph";g.VERSION="2.0.0";g.DEFAULT_ROLL_PERIOD=1;g.DEFAULT_WIDTH=480;g.DEFAULT_HEIGHT=320;g.ANIMATION_STEPS=12;g.ANIMATION_DURATION=200;g.Plotters=P._Plotters;g.addedAnnotationCSS=!1;g.prototype.__init__=function(e,t,a){if(this.is_initial_draw_=!0,this.readyFns_=[],a==null&&(a={}),a=g.copyUserAttrs_(a),typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=a.rollPeriod||g.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=a.fractions||!1,this.dateWindow_=a.dateWindow||null,this.annotations_=[],e.innerHTML="",e.style.width===""&&a.width&&(e.style.width=a.width+"px"),e.style.height===""&&a.height&&(e.style.height=a.height+"px"),e.style.height===""&&e.clientHeight===0&&(e.style.height=g.DEFAULT_HEIGHT+"px",e.style.width===""&&(e.style.width=g.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||a.width||0,this.height_=e.clientHeight||a.height||0,a.stackedGraph&&(a.fillGraph=!0),this.user_attrs_={},U(this.user_attrs_,a),this.attrs_={},Ye(this.attrs_,De),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new Z(this),this.createInterface_(),this.plugins_=[];for(var r=g.PLUGINS.concat(this.getOption("plugins")),i=0;i<r.length;i++){var n=r[i],o;typeof n.activate!="undefined"?o=n:o=new n;var l={plugin:o,events:{},options:{},pluginOptions:{}},s=o.activate(this);for(var h in s)!s.hasOwnProperty(h)||(l.events[h]=s[h]);this.plugins_.push(l)}for(var i=0;i<this.plugins_.length;i++){var d=this.plugins_[i];for(var h in d.events)if(!!d.events.hasOwnProperty(h)){var u=d.events[h],f=[d.plugin,u];h in this.eventListeners_?this.eventListeners_[h].push(f):this.eventListeners_[h]=[f]}}this.createDragInterface_(),this.start_()};g.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var a={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!a.cancelable)throw"Cannot call preventDefault on non-cancelable event.";a.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){a.propagationStopped=!0}};U(a,t);var r=this.eventListeners_[e];if(r)for(var i=r.length-1;i>=0;i--){var n=r[i][0],o=r[i][1];if(o.call(n,a),a.propagationStopped)break}return a.defaultPrevented};g.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var a=this.plugins_[t];if(a.plugin instanceof e)return a.plugin}return null};g.prototype.isZoomed=function(e){const t=!!this.dateWindow_;if(e==="x")return t;const a=this.axes_.map(r=>!!r.valueRange).indexOf(!0)>=0;if(e==null)return t||a;if(e==="y")return a;throw new Error(`axis parameter is [${e}] must be null, 'x' or 'y'.`)};g.prototype.toString=function(){var e=this.maindiv_,t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"};g.prototype.attr_=function(e,t){return t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)};g.prototype.getOption=function(e,t){return this.attr_(e,t)};g.prototype.getNumericOption=function(e,t){return this.getOption(e,t)};g.prototype.getStringOption=function(e,t){return this.getOption(e,t)};g.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)};g.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)};g.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)};g.prototype.optionsViewForAxis_=function(e){var t=this;return function(a){var r=t.user_attrs_.axes;return r&&r[e]&&r[e].hasOwnProperty(a)?r[e][a]:e==="x"&&a==="logscale"?!1:typeof t.user_attrs_[a]!="undefined"?t.user_attrs_[a]:(r=t.attrs_.axes,r&&r[e]&&r[e].hasOwnProperty(a)?r[e][a]:e=="y"&&t.axes_[0].hasOwnProperty(a)?t.axes_[0][a]:e=="y2"&&t.axes_[1].hasOwnProperty(a)?t.axes_[1][a]:t.attr_(a))}};g.prototype.rollPeriod=function(){return this.rollPeriod_};g.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};g.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(this.numRows()===0)return[0-e,1+e];var t=this.rawData_[0][0],a=this.rawData_[this.rawData_.length-1][0];if(e){var r=a-t;t-=r*e,a+=r*e}return[t,a]};g.prototype.yAxisExtremes=function(){const e=this.gatherDatasets_(this.rolledSeries_,null),{extremes:t}=e,a=this.axes_;this.computeYAxisRanges_(t);const r=this.axes_;return this.axes_=a,r.map(i=>i.extremeRange)};g.prototype.yAxisRange=function(e){if(typeof e=="undefined"&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]};g.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e};g.prototype.toDomCoords=function(e,t,a){return[this.toDomXCoord(e),this.toDomYCoord(t,a)]};g.prototype.toDomXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();return t.x+(e-a[0])/(a[1]-a[0])*t.w};g.prototype.toDomYCoord=function(e,t){var a=this.toPercentYCoord(e,t);if(a===null)return null;var r=this.plotter_.area;return r.y+a*r.h};g.prototype.toDataCoords=function(e,t,a){return[this.toDataXCoord(e),this.toDataYCoord(t,a)]};g.prototype.toDataXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var r=(e-t.x)/t.w;return me(a[0],a[1],r)}else return a[0]+(e-t.x)/t.w*(a[1]-a[0])};g.prototype.toDataYCoord=function(e,t){if(e===null)return null;var a=this.plotter_.area,r=this.yAxisRange(t);if(typeof t=="undefined"&&(t=0),this.attributes_.getForAxis("logscale",t)){var i=(e-a.y)/a.h;return me(r[1],r[0],i)}else return r[0]+(a.y+a.h-e)/a.h*(r[1]-r[0])};g.prototype.toPercentYCoord=function(e,t){if(e===null)return null;typeof t=="undefined"&&(t=0);var a=this.yAxisRange(t),r,i=this.attributes_.getForAxis("logscale",t);if(i){var n=F(a[0]),o=F(a[1]);r=(o-F(e))/(o-n)}else r=(a[1]-e)/(a[1]-a[0]);return r};g.prototype.toPercentXCoord=function(e){if(e===null)return null;var t=this.xAxisRange(),a,r=this.attributes_.getForAxis("logscale","x");if(r===!0){var i=F(t[0]),n=F(t[1]);a=(F(e)-i)/(n-i)}else a=(e-t[0])/(t[1]-t[0]);return a};g.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0};g.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0};g.prototype.getValue=function(e,t){return e<0||e>this.rawData_.length||t<0||t>this.rawData_[e].length?null:this.rawData_[e][t]};g.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=Se(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=Ae(this.canvas_),this.hidden_ctx_=Ae(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new I(this);var t=this;this.mouseMoveHandler_=function(a){t.mouseMove_(a)},this.mouseOutHandler_=function(a){var r=a.target||a.fromElement,i=a.relatedTarget||a.toElement;$e(r,t.graphDiv)&&!$e(i,t.graphDiv)&&t.mouseOut_(a)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(a){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))};g.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||He(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",t!==1&&this.canvas_ctx_.scale(t,t);var a=e||He(this.hidden_ctx_);this.hidden_.width=this.width_*a,this.hidden_.height=this.height_*a,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",a!==1&&this.hidden_ctx_.scale(a,a)};g.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}var a=function(i){for(;i.hasChildNodes();)a(i.firstChild),i.removeChild(i.firstChild)};this.removeTrackedEvents_(),G(window,"mouseout",this.mouseOutHandler_),G(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),G(window,"resize",this.resizeHandler_),this.resizeHandler_=null,a(this.maindiv_);var r=function(i){for(var n in i)typeof i[n]=="object"&&(i[n]=null)};r(this.layout_),r(this.plotter_),r(this)};g.prototype.createPlotKitCanvas_=function(e){var t=Se();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t};g.prototype.createMouseEventElement_=function(){return this.canvas_};g.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var a=this.getNumericOption("colorSaturation")||1,r=this.getNumericOption("colorValue")||.5,i=Math.ceil(t/2),n=this.getOption("colors"),o=this.visibility(),l=0;l<t;l++)if(!!o[l]){var s=e[l+1],h=this.attributes_.getForSeries("color",s);if(!h)if(n)h=n[l%n.length];else{var d=l%2?i+(l+1)/2:Math.ceil((l+1)/2),u=1*d/(1+t);h=mt(u,a,r)}this.colors_.push(h),this.colorsMap_[s]=h}};g.prototype.getColors=function(){return this.colors_};g.prototype.getPropertiesForSeries=function(e){for(var t=-1,a=this.getLabels(),r=1;r<a.length;r++)if(a[r]==e){t=r;break}return t==-1?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}};g.prototype.createRollInterface_=function(){var e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var t=this.getBooleanOption("showRoller")?"block":"none",a=this.getArea(),r={top:a.y+a.h-25+"px",left:a.x+1+"px",display:t};e.size="2",e.value=this.rollPeriod_,U(e.style,r),e.onchange=()=>this.adjustRoll(e.value)};g.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Pe,initializeMouseDown:function(o,l,s){o.preventDefault?o.preventDefault():(o.returnValue=!1,o.cancelBubble=!0);var h=fe(l.canvas_);s.px=h.x,s.py=h.y,s.dragStartX=Te(o,s),s.dragStartY=Oe(o,s),s.cancelNextDblclick=!1,s.tarp.cover()},destroy:function(){var o=this;if((o.isZooming||o.isPanning)&&(o.isZooming=!1,o.dragStartX=null,o.dragStartY=null),o.isPanning){o.isPanning=!1,o.draggingDate=null,o.dateRange=null;for(var l=0;l<a.axes_.length;l++)delete a.axes_[l].draggingValue,delete a.axes_[l].dragValueRange}o.tarp.uncover()}},t=this.getOption("interactionModel"),a=this,r=function(o){return function(l){o(l,a,e)}};for(var i in t)!t.hasOwnProperty(i)||this.addAndTrackEvent(this.mouseEventElement_,i,r(t[i]));if(!t.willDestroyContextMyself){var n=function(o){e.destroy()};this.addAndTrackEvent(document,"mouseup",n)}};g.prototype.drawZoomRect_=function(e,t,a,r,i,n,o,l){var s=this.canvas_ctx_;n==be?s.clearRect(Math.min(t,o),this.layout_.getPlotArea().y,Math.abs(t-o),this.layout_.getPlotArea().h):n==we&&s.clearRect(this.layout_.getPlotArea().x,Math.min(r,l),this.layout_.getPlotArea().w,Math.abs(r-l)),e==be?a&&t&&(s.fillStyle="rgba(128,128,128,0.33)",s.fillRect(Math.min(t,a),this.layout_.getPlotArea().y,Math.abs(a-t),this.layout_.getPlotArea().h)):e==we&&i&&r&&(s.fillStyle="rgba(128,128,128,0.33)",s.fillRect(this.layout_.getPlotArea().x,Math.min(r,i),this.layout_.getPlotArea().w,Math.abs(i-r)))};g.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)};g.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var a=this.toDataXCoord(e),r=this.toDataXCoord(t);this.doZoomXDates_(a,r)};g.prototype.doZoomXDates_=function(e,t){var a=this.xAxisRange(),r=[e,t];const i=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(a,r,null,null,()=>{i&&i.call(this,e,t,this.yAxisRanges())})};g.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;for(var a=this.yAxisRanges(),r=[],i=0;i<this.axes_.length;i++){var n=this.toDataYCoord(e,i),o=this.toDataYCoord(t,i);r.push([o,n])}const l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,a,r,()=>{if(l){const[s,h]=this.xAxisRange();l.call(this,s,h,this.yAxisRanges())}})};g.zoomAnimationFunction=function(e,t){var a=1.5;return(1-Math.pow(a,-e))/(1-Math.pow(a,-t))};g.prototype.resetZoom=function(){const e=this.isZoomed("x"),t=this.isZoomed("y"),a=e||t;if(this.clearSelection(),!a)return;const[r,i]=this.xAxisExtremes(),n=this.getBooleanOption("animatedZooms"),o=this.getFunctionOption("zoomCallback");if(!n){this.dateWindow_=null,this.axes_.forEach(u=>{u.valueRange&&delete u.valueRange}),this.drawGraph_(),o&&o.call(this,r,i,this.yAxisRanges());return}var l=null,s=null,h=null,d=null;e&&(l=this.xAxisRange(),s=[r,i]),t&&(h=this.yAxisRanges(),d=this.yAxisExtremes()),this.doAnimatedZoom(l,s,h,d,()=>{this.dateWindow_=null,this.axes_.forEach(u=>{u.valueRange&&delete u.valueRange}),o&&o.call(this,r,i,this.yAxisRanges())})};g.prototype.doAnimatedZoom=function(e,t,a,r,i){var n=this.getBooleanOption("animatedZooms")?g.ANIMATION_STEPS:1,o=[],l=[],s,h;if(e!==null&&t!==null)for(s=1;s<=n;s++)h=g.zoomAnimationFunction(s,n),o[s-1]=[e[0]*(1-h)+h*t[0],e[1]*(1-h)+h*t[1]];if(a!==null&&r!==null)for(s=1;s<=n;s++){h=g.zoomAnimationFunction(s,n);for(var d=[],u=0;u<this.axes_.length;u++)d.push([a[u][0]*(1-h)+h*r[u][0],a[u][1]*(1-h)+h*r[u][1]]);l[s-1]=d}ht(f=>{if(l.length)for(var c=0;c<this.axes_.length;c++){var p=l[f][c];this.axes_[c].valueRange=[p[0],p[1]]}o.length&&(this.dateWindow_=o[f]),this.drawGraph_()},n,g.ANIMATION_DURATION/n,i)};g.prototype.getArea=function(){return this.plotter_.area};g.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=fe(this.mouseEventElement_),a=Le(e)-t.x,r=Ee(e)-t.y;return[a,r]};g.prototype.findClosestRow=function(e){for(var t=1/0,a=-1,r=this.layout_.points,i=0;i<r.length;i++)for(var n=r[i],o=n.length,l=0;l<o;l++){var s=n[l];if(!!he(s,!0)){var h=Math.abs(s.canvasx-e);h<t&&(t=h,a=s.idx)}}return a};g.prototype.findClosestPoint=function(e,t){for(var a=1/0,r,i,n,o,l,s,h,d=this.layout_.points.length-1;d>=0;--d)for(var u=this.layout_.points[d],f=0;f<u.length;++f)o=u[f],he(o)&&(i=o.canvasx-e,n=o.canvasy-t,r=i*i+n*n,r<a&&(a=r,l=o,s=d,h=o.idx));var c=this.layout_.setNames[s];return{row:h,seriesName:c,point:l}};g.prototype.findStackedPoint=function(e,t){for(var a=this.findClosestRow(e),r,i,n=0;n<this.layout_.points.length;++n){var o=this.getLeftBoundary_(n),l=a-o,s=this.layout_.points[n];if(!(l>=s.length)){var h=s[l];if(!!he(h)){var d=h.canvasy;if(e>h.canvasx&&l+1<s.length){var u=s[l+1];if(he(u)){var f=u.canvasx-h.canvasx;if(f>0){var c=(e-h.canvasx)/f;d+=c*(u.canvasy-h.canvasy)}}}else if(e<h.canvasx&&l>0){var p=s[l-1];if(he(p)){var f=h.canvasx-p.canvasx;if(f>0){var c=(h.canvasx-e)/f;d+=c*(p.canvasy-h.canvasy)}}}(n===0||d<t)&&(r=h,i=n)}}}var v=this.layout_.setNames[i];return{row:a,seriesName:v,point:r}};g.prototype.mouseMove_=function(e){var t=this.layout_.points;if(t!=null){var a=this.eventToDomCoords(e),r=a[0],i=a[1],n=this.getOption("highlightSeriesOpts"),o=!1;if(n&&!this.isSeriesLocked()){var l;this.getBooleanOption("stackedGraph")?l=this.findStackedPoint(r,i):l=this.findClosestPoint(r,i),o=this.setSelection(l.row,l.seriesName)}else{var s=this.findClosestRow(r);o=this.setSelection(s)}var h=this.getFunctionOption("highlightCallback");h&&o&&h.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};g.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(this.boundaryIds_[t]!==void 0)return this.boundaryIds_[t][0];return 0};g.prototype.animateSelection_=function(e){var t=10,a=30;this.fadeLevel===void 0&&(this.fadeLevel=0),this.animateId===void 0&&(this.animateId=0);var r=this.fadeLevel,i=e<0?r:t-r;if(i<=0){this.fadeLevel&&this.updateSelection_(1);return}var n=++this.animateId,o=this,l=function(){o.fadeLevel!==0&&e<0&&(o.fadeLevel=0,o.clearSelection())};ht(function(s){o.animateId==n&&(o.fadeLevel+=e,o.fadeLevel===0?o.clearSelection():o.updateSelection_(o.fadeLevel/t))},i,a,l)};g.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:this.lastRow_===-1?void 0:this.lastRow_,selectedX:this.lastx_===-1?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,a=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){a.clearRect(0,0,this.width_,this.height_);var r=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),i=Ce(this.getOption("highlightSeriesBackgroundColor"));if(r){var n=!0;if(n){if(e===void 0){this.animateSelection_(1);return}r*=e}a.fillStyle="rgba("+i.r+","+i.g+","+i.b+","+r+")",a.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,a)}else if(this.previousVerticalX_>=0){var o=0,l=this.attr_("labels");for(t=1;t<l.length;t++){var s=this.getNumericOption("highlightCircleSize",l[t]);s>o&&(o=s)}var h=this.previousVerticalX_;a.clearRect(h-o-1,0,2*o+2,this.height_)}if(this.selPoints_.length>0){var d=this.selPoints_[0].canvasx;for(a.save(),t=0;t<this.selPoints_.length;t++){var u=this.selPoints_[t];if(!isNaN(u.canvasy)){var f=this.getNumericOption("highlightCircleSize",u.name),c=this.getFunctionOption("drawHighlightPointCallback",u.name),p=this.plotter_.colors[u.name];c||(c=Be.DEFAULT),a.lineWidth=this.getNumericOption("strokeWidth",u.name),a.strokeStyle=p,a.fillStyle=p,c.call(this,this,u.name,a,d,u.canvasy,p,f,u.idx)}}a.restore(),this.previousVerticalX_=d}};g.prototype.setSelection=function(e,t,a){this.selPoints_=[];var r=!1;if(e!==!1&&e>=0){e!=this.lastRow_&&(r=!0),this.lastRow_=e;for(var i=0;i<this.layout_.points.length;++i){var n=this.layout_.points[i],o=e-this.getLeftBoundary_(i);if(o>=0&&o<n.length&&n[o].idx==e){var l=n[o];l.yval!==null&&this.selPoints_.push(l)}else for(var s=0;s<n.length;++s){var l=n[s];if(l.idx==e){l.yval!==null&&this.selPoints_.push(l);break}}}}else this.lastRow_>=0&&(r=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,t!==void 0&&(this.highlightSet_!==t&&(r=!0),this.highlightSet_=t),a!==void 0&&(this.lockedSet_=a),r&&this.updateSelection_(void 0),r};g.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()};g.prototype.clearSelection=function(){if(this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null};g.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],a=0;a<t.length;a++)if(t[a].x==this.selPoints_[0].x)return t[a].idx;return-1};g.prototype.getHighlightSeries=function(){return this.highlightSet_};g.prototype.isSeriesLocked=function(){return this.lockedSet_};g.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()};g.prototype.addXTicks_=function(){var e;this.dateWindow_?e=[this.dateWindow_[0],this.dateWindow_[1]]:e=this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),a=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(a)};g.prototype.getHandlerClass_=function(){var e;return this.attr_("dataHandler")?e=this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?e=ge:e=pe:this.getBooleanOption("customBars")?e=ce:this.getBooleanOption("errorBars")?e=ve:e=ae,e};g.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new P(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var a=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(a=this.dataHandler_.rollingAverage(a,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(a)}this.drawGraph_();var r=new Date;this.drawingTimeMs_=r-e};g.PointType=void 0;g.stackPoints_=function(e,t,a,r){for(var i=null,n=null,o=null,l=-1,s=function(p){if(!(l>=p)){for(var v=p;v<e.length;++v)if(o=null,!isNaN(e[v].yval)&&e[v].yval!==null){l=v,o=e[v];break}}},h=0;h<e.length;++h){var d=e[h],u=d.xval;t[u]===void 0&&(t[u]=0);var f=d.yval;isNaN(f)||f===null?r=="none"?f=0:(s(h),n&&o&&r!="none"?f=n.yval+(o.yval-n.yval)*((u-n.xval)/(o.xval-n.xval)):n&&r=="all"?f=n.yval:o&&r=="all"?f=o.yval:f=0):n=d;var c=t[u];i!=u&&(c+=f,t[u]=c),i=u,d.yval_stacked=c,c>a[1]&&(a[1]=c),c<a[0]&&(a[0]=c)}};g.prototype.gatherDatasets_=function(e,t){var a=[],r=[],i=[],n={},o,l,s,h,d,u=e.length-1,f;for(o=u;o>=1;o--)if(!!this.visibility()[o-1]){if(t){f=e[o];var c=t[0],p=t[1];for(s=null,h=null,l=0;l<f.length;l++)f[l][0]>=c&&s===null&&(s=l),f[l][0]<=p&&(h=l);s===null&&(s=0);for(var v=s,_=!0;_&&v>0;)v--,_=f[v][1]===null;h===null&&(h=f.length-1);var m=h;for(_=!0;_&&m<f.length-1;)m++,_=f[m][1]===null;v!==s&&(s=v),m!==h&&(h=m),a[o-1]=[s,h],f=f.slice(s,h+1)}else f=e[o],a[o-1]=[0,f.length-1];var y=this.attr_("labels")[o],b=this.dataHandler_.getExtremeYValues(f,t,this.getBooleanOption("stepPlot",y)),x=this.dataHandler_.seriesToPoints(f,y,a[o-1][0]);this.getBooleanOption("stackedGraph")&&(d=this.attributes_.axisForSeries(y),i[d]===void 0&&(i[d]=[]),g.stackPoints_(x,i[d],b,this.getBooleanOption("stackedGraphNaNFill"))),n[y]=b,r[o]=x}return{points:r,extremes:n,boundaryIds:a}};g.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var a=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),r=a.points,i=a.extremes;this.boundaryIds_=a.boundaryIds,this.setIndexByName_={};for(var n=this.attr_("labels"),o=0,l=1;l<r.length;l++)!this.visibility()[l-1]||(this.layout_.addDataset(n[l],r[l]),this.datasetIndex_[l]=o++);for(var l=0;l<n.length;l++)this.setIndexByName_[n[l]]=l;if(this.computeYAxisRanges_(i),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var s=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(s-e)+"ms")}};g.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();const t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var a={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",a),this.plotter_.render(),this.cascadeEvents_("didDrawChart",a),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);const r=this.getFunctionOption("drawCallback");if(r!==null&&r.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;){var i=this.readyFns_.pop();i(this)}};g.prototype.computeYAxes_=function(){var e,t,a;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)t={g:this},U(t,this.attributes_.axisOptions(e)),this.axes_[e]=t;for(e=0;e<this.axes_.length;e++)if(e===0)t=this.optionsViewForAxis_("y"+(e?"2":"")),a=t("valueRange"),a&&(this.axes_[e].valueRange=a);else{var r=this.user_attrs_.axes;r&&r.y2&&(a=r.y2.valueRange,a&&(this.axes_[e].valueRange=a))}};g.prototype.numAxes=function(){return this.attributes_.numAxes()};g.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]};g.prototype.computeYAxisRanges_=function(e){for(var t=function(K){return isNaN(parseFloat(K))},a=this.attributes_.numAxes(),r,i,n,o,l,s=0;s<a;s++){var h=this.axes_[s],d=this.attributes_.getForAxis("logscale",s),u=this.attributes_.getForAxis("includeZero",s),f=this.attributes_.getForAxis("independentTicks",s);n=this.attributes_.seriesForAxis(s),r=!0,o=.1;const K=this.getNumericOption("yRangePad");if(K!==null&&(r=!1,o=K/this.plotter_.area.h),n.length===0)h.extremeRange=[0,1];else{for(var c=1/0,p=-1/0,v,_,m=0;m<n.length;m++)!e.hasOwnProperty(n[m])||(v=e[n[m]][0],v!==null&&(c=Math.min(v,c)),_=e[n[m]][1],_!==null&&(p=Math.max(_,p)));u&&!d&&(c>0&&(c=0),p<0&&(p=0)),c==1/0&&(c=0),p==-1/0&&(p=1),i=p-c,i===0&&(p!==0?i=Math.abs(p):(p=1,i=1));var y=p,b=c;r&&(d?(y=p+o*i,b=c):(y=p+o*i,b=c-o*i,b<0&&c>=0&&(b=0),y>0&&p<=0&&(y=0))),h.extremeRange=[b,y]}if(h.valueRange){var x=t(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],D=t(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[x,D]}else h.computedValueRange=h.extremeRange;if(!r)if(d){x=h.computedValueRange[0],D=h.computedValueRange[1];var R=o/(2*o-1),w=(o-1)/(2*o-1);h.computedValueRange[0]=me(x,D,R),h.computedValueRange[1]=me(x,D,w)}else x=h.computedValueRange[0],D=h.computedValueRange[1],i=D-x,h.computedValueRange[0]=x-i*o,h.computedValueRange[1]=D+i*o;if(f){h.independentTicks=f;var S=this.optionsViewForAxis_("y"+(s?"2":"")),C=S("ticker");h.ticks=C(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,S,this),l||(l=h)}}if(l===void 0)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var s=0;s<a;s++){var h=this.axes_[s];if(!h.independentTicks){for(var S=this.optionsViewForAxis_("y"+(s?"2":"")),C=S("ticker"),A=l.ticks,O=l.computedValueRange[1]-l.computedValueRange[0],H=h.computedValueRange[1]-h.computedValueRange[0],X=[],W=0;W<A.length;W++){var V=(A[W].v-l.computedValueRange[0])/O,N=h.computedValueRange[0]+V*H;X.push(N)}h.ticks=C(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,S,this,X)}}};g.prototype.detectTypeFromString_=function(e){var t=!1,a=e.indexOf("-");(a>0&&e[a-1]!="e"&&e[a-1]!="E"||e.indexOf("/")>=0||isNaN(parseFloat(e))||e.length==8&&e>"19700101"&&e<"20371231")&&(t=!0),this.setXAxisOptions_(t)};g.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=nt,this.attrs_.axes.x.valueFormatter=Me,this.attrs_.axes.x.ticker=ue,this.attrs_.axes.x.axisLabelFormatter=de):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=te,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)};g.prototype.parseCSV_=function(e){var t=[],a=ut(e),r=e.split(a||`
`),i,n,o=this.getStringOption("delimiter");r[0].indexOf(o)==-1&&r[0].indexOf("	")>=0&&(o="	");var l=0;"labels"in this.user_attrs_||(l=1,this.attrs_.labels=r[0].split(o),this.attributes_.reparseSeries());for(var s,h=!1,d=this.attr_("labels").length,u=!1,f=l;f<r.length;f++){var c=r[f];if(c.length!==0&&c[0]!="#"){var p=c.split(o);if(!(p.length<2)){var v=[];if(h||(this.detectTypeFromString_(p[0]),s=this.getFunctionOption("xValueParser"),h=!0),v[0]=s(p[0],this),this.fractions_)for(n=1;n<p.length;n++)i=p[n].split("/"),i.length!=2?(console.error(`Expected fractional "num/den" values in CSV data but found a value '`+p[n]+"' on line "+(1+f)+" ('"+c+"') which is not of this form."),v[n]=[0,0]):v[n]=[q(i[0],f,c),q(i[1],f,c)];else if(this.getBooleanOption("errorBars"))for(p.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+f)+" has an odd number of values ("+(p.length-1)+"): '"+c+"'"),n=1;n<p.length;n+=2)v[(n+1)/2]=[q(p[n],f,c),q(p[n+1],f,c)];else if(this.getBooleanOption("customBars"))for(n=1;n<p.length;n++){var _=p[n];/^ *$/.test(_)?v[n]=[null,null,null]:(i=_.split(";"),i.length==3?v[n]=[q(i[0],f,c),q(i[1],f,c),q(i[2],f,c)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+_+'" on line '+(1+f)))}else for(n=1;n<p.length;n++)v[n]=q(p[n],f,c);if(t.length>0&&v[0]<t[t.length-1][0]&&(u=!0),v.length!=d&&console.error("Number of columns in line "+f+" ("+v.length+") does not agree with number of labels ("+d+") "+c),f===0&&this.attr_("labels")){var m=!0;for(n=0;m&&n<v.length;n++)v[n]&&(m=!1);if(m){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+c+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(v)}}}return u&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(y,b){return y[0]-b[0]})),t};function Nt(e){const t=e[0],a=t[0];if(typeof a!="number"&&!st(a))throw new Error(`Expected number or date but got ${typeof a}: ${a}.`);for(let r=1;r<t.length;r++){const i=t[r];if(i!=null&&typeof i!="number"&&!se(i))throw new Error(`Expected number or array but got ${typeof i}: ${i}.`)}}g.prototype.parseArray_=function(e){if(e.length===0)return console.error("Can't plot empty data set"),null;if(e[0].length===0)return console.error("Data set cannot contain an empty row"),null;Nt(e);var t;if(this.attr_("labels")===null){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var a=this.attr_("labels");if(a.length!=e[0].length)return console.error("Mismatch between number of labels ("+a+") and number of columns in array ("+e[0].length+")"),null}if(st(e[0][0])){this.attrs_.axes.x.valueFormatter=Me,this.attrs_.axes.x.ticker=ue,this.attrs_.axes.x.axisLabelFormatter=de;var r=ot(e);for(t=0;t<e.length;t++){if(r[t].length===0)return console.error("Row "+(1+t)+" of data is empty"),null;if(r[t][0]===null||typeof r[t][0].getTime!="function"||isNaN(r[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;r[t][0]=r[t][0].getTime()}return r}else return this.attrs_.axes.x.valueFormatter=function(i){return i},this.attrs_.axes.x.ticker=te,this.attrs_.axes.x.axisLabelFormatter=Xe,e};g.prototype.parseDataTable_=function(e){var t=function(x){var D=String.fromCharCode(65+x%26);for(x=Math.floor(x/26);x>0;)D=String.fromCharCode(65+(x-1)%26)+D.toLowerCase(),x=Math.floor((x-1)/26);return D},a=e.getNumberOfColumns(),r=e.getNumberOfRows(),i=e.getColumnType(0);if(i=="date"||i=="datetime")this.attrs_.xValueParser=nt,this.attrs_.axes.x.valueFormatter=Me,this.attrs_.axes.x.ticker=ue,this.attrs_.axes.x.axisLabelFormatter=de;else if(i=="number")this.attrs_.xValueParser=function(x){return parseFloat(x)},this.attrs_.axes.x.valueFormatter=function(x){return x},this.attrs_.axes.x.ticker=te,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter;else throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");var n=[],o={},l=!1,s,h;for(s=1;s<a;s++){var d=e.getColumnType(s);if(d=="number")n.push(s);else if(d=="string"&&this.getBooleanOption("displayAnnotations")){var u=n[n.length-1];o.hasOwnProperty(u)?o[u].push(s):o[u]=[s],l=!0}else throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var f=[e.getColumnLabel(0)];for(s=0;s<n.length;s++)f.push(e.getColumnLabel(n[s])),this.getBooleanOption("errorBars")&&(s+=1);this.attrs_.labels=f,a=f.length;var c=[],p=!1,v=[];for(s=0;s<r;s++){var _=[];if(typeof e.getValue(s,0)=="undefined"||e.getValue(s,0)===null){console.warn("Ignoring row "+s+" of DataTable because of undefined or null first column.");continue}if(i=="date"||i=="datetime"?_.push(e.getValue(s,0).getTime()):_.push(e.getValue(s,0)),this.getBooleanOption("errorBars"))for(h=0;h<a-1;h++)_.push([e.getValue(s,1+2*h),e.getValue(s,2+2*h)]);else{for(h=0;h<n.length;h++){var m=n[h];if(_.push(e.getValue(s,m)),l&&o.hasOwnProperty(m)&&e.getValue(s,o[m][0])!==null){var y={};y.series=e.getColumnLabel(m),y.xval=_[0],y.shortText=t(v.length),y.text="";for(var b=0;b<o[m].length;b++)b&&(y.text+=`
`),y.text+=e.getValue(s,o[m][b]);v.push(y)}}for(h=0;h<_.length;h++)isFinite(_[h])||(_[h]=null)}c.length>0&&_[0]<c[c.length-1][0]&&(p=!0),c.push(_)}p&&(console.warn("DataTable is out of order; order it correctly to speed loading."),c.sort(function(x,D){return x[0]-D[0]})),this.rawData_=c,v.length>0&&this.setAnnotations(v,!0),this.attributes_.reparseSeries()};g.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})};g.prototype.start_=function(){var e=this.file_;if(typeof e=="function"&&(e=e()),se(e))this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(typeof e=="object"&&typeof e.getColumnRange=="function")this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(typeof e=="string"){var t=ut(e);if(t)this.loadedEvent_(e);else{var a;window.XMLHttpRequest?a=new XMLHttpRequest:a=new ActiveXObject("Microsoft.XMLHTTP");var r=this;a.onreadystatechange=function(){a.readyState==4&&(a.status===200||a.status===0)&&r.loadedEvent_(a.responseText)},a.open("GET",e,!0),a.send(null)}}else console.error("Unknown data format: "+typeof e)};g.prototype.updateOptions=function(e,t){typeof t=="undefined"&&(t=!1);var a=e.file,r=g.copyUserAttrs_(e);"rollPeriod"in r&&(this.rollPeriod_=r.rollPeriod),"dateWindow"in r&&(this.dateWindow_=r.dateWindow);var i=At(this.attr_("labels"),r);Ye(this.user_attrs_,r),this.attributes_.reparseSeries(),a?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=a,t||this.start_()):t||(i?this.predraw_():this.renderGraph_(!1))};g.copyUserAttrs_=function(e){var t={};for(var a in e)!e.hasOwnProperty(a)||a!="file"&&e.hasOwnProperty(a)&&(t[a]=e[a]);return t};g.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,e===null!=(t===null)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var a=this.width_,r=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(a!=this.width_||r!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}};g.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()};g.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")};g.prototype.setVisibility=function(e,t){var a=this.visibility(),r=!1;if(Array.isArray(e)||(e!==null&&typeof e=="object"?r=!0:e=[e]),r)for(var i in e)e.hasOwnProperty(i)&&(i<0||i>=a.length?console.warn("Invalid series number in setVisibility: "+i):a[i]=e[i]);else for(var i=0;i<e.length;i++)typeof e[i]=="boolean"?i>=a.length?console.warn("Invalid series number in setVisibility: "+i):a[i]=e[i]:e[i]<0||e[i]>=a.length?console.warn("Invalid series number in setVisibility: "+e[i]):a[e[i]]=t;this.predraw_()};g.prototype.size=function(){return{width:this.width_,height:this.height_}};g.prototype.setAnnotations=function(e,t){if(this.annotations_=e,!this.layout_){console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_),t||this.predraw_()};g.prototype.annotations=function(){return this.annotations_};g.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null};g.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]};g.prototype.getRowForX=function(e){for(var t=0,a=this.numRows()-1;t<=a;){var r=a+t>>1,i=this.getValue(r,0);if(i<e)t=r+1;else if(i>e)a=r-1;else if(t!=r)a=r;else return r}return null};g.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)};g.prototype.addAndTrackEvent=function(e,t,a){le(e,t,a),this.registeredEvents_.push({elem:e,type:t,fn:a})};g.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];G(t.elem,t.type,t.fn)}this.registeredEvents_=[]};g.PLUGINS=[Y,j,k,$,J,oe];g.GVizChart=Ne;g.DASHED_LINE=_t;g.DOT_DASH_LINE=yt;g.dateAxisLabelFormatter=de;g.toRGB_=Ce;g.findPos=fe;g.pageX=Le;g.pageY=Ee;g.dateString_=it;g.defaultInteractionModel=L.defaultModel;g.nonInteractiveModel=g.nonInteractiveModel_=L.nonInteractiveModel_;g.Circles=Be;g.Plugins={Legend:Y,Axes:j,Annotations:J,ChartLabels:$,Grid:oe,RangeSelector:k};g.DataHandlers={DefaultHandler:ae,BarsHandler:z,CustomBarsHandler:ce,DefaultFractionHandler:pe,ErrorBarsHandler:ve,FractionsBarsHandler:ge};g.startPan=L.startPan;g.startZoom=L.startZoom;g.movePan=L.movePan;g.moveZoom=L.moveZoom;g.endPan=L.endPan;g.endZoom=L.endZoom;g.numericLinearTicks=vt;g.numericTicks=te;g.dateTicker=ue;g.Granularity=E;g.getDateAxis=at;g.floatFormat=rt;var Ge=g;class Rt{constructor(t,a){this.labels=a,this.data=[];let r=[];for(let i=0;i<a.length;i++)r.push(0);this.resetData=[r],this.dygraph=new Ge(t,this.resetData,{labels:a})}add(t){let a=[];for(let r=0;r<this.labels.length;r++){if(!t.hasOwnProperty(this.labels[r]))throw new Error(`Data missing value for \`${this.labels[r]}\``);a.push(t[this.labels[r]])}this.data.push(a),this.dygraph.updateOptions({file:this.data})}reset(){this.data=[],this.dygraph.updateOptions({file:this.resetData})}}export{Rt as default};
